{"version":3,"sources":["components/vector.js","components/targetFull.js","components/lifeIndicator.js","components/countDownTimer.js","components/challengeArena.js","App.js","reportWebVitals.js","index.js"],"names":["Vector","x","y","this","v","Math","sqrt","n","unit","mag","ctx","start_x","start_y","color","beginPath","moveTo","lineTo","strokeStyle","stroke","closePath","v1","v2","TargetFull","r","creatures","speed","dirChangeProp","id","uuidv4","orignalR","growth","birth","Date","now","pos","isActive","isClicked","clickedTime","vel","random","current","push","arc","PI","fillStyle","lineWidth","fill","boundaries","newPosition","multiplier","plusMinusX","floor","plusMinusY","isAtBoundary","add","right","window","bottom","left","top","drawTarget","LifeIndicator","props","style","fontWeight","value","CountDownTimer","useState","countDown","setCountDown","useEffect","setTimeout","fontSize","innerWidth","innerHeight","ChallengeArena","setCtx","canvasRef","useRef","startTimeRef","lifes","setlifes","lifesRef","gameLoops","playingRef","playing","setPlaying","gameOverRef","gameOver","setGameOver","isCountDown","setIsCountDown","TARGETS","mainLoop","timestamp","clearRect","clientWidth","clientHeight","clearCanvas","targets","i","length","canDie","console","log","splice","die","spwanBuffer","addTarget","forEach","b","index","updateCreature","requestAnimationFrame","document","getElementById","getContext","focus","reqID","cancelAnimationFrame","height","width","className","padding","position","backgroundColor","onClick","e","mouse","clientX","clientY","subtr","onKeyDown","keyCode","tabIndex","ref","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.d7f0711f.chunk.js","sourcesContent":["export class Vector {\r\n  constructor(x, y) {\r\n    this.x = x;\r\n    this.y = y;\r\n  }\r\n\r\n  add(v) {\r\n    return new Vector(this.x + v.x, this.y + v.y);\r\n  }\r\n\r\n  subtr(v) {\r\n    return new Vector(this.x - v.x, this.y - v.y);\r\n  }\r\n\r\n  mag() {\r\n    return Math.sqrt(this.x ** 2 + this.y ** 2);\r\n  }\r\n\r\n  mult(n) {\r\n    return new Vector(this.x * n, this.y * n);\r\n  }\r\n\r\n  normal() {\r\n    return new Vector(-this.y, this.x).unit();\r\n  }\r\n\r\n  unit() {\r\n    if (this.mag() === 0) {\r\n      return new Vector(0, 0);\r\n    } else {\r\n      return new Vector(this.x / this.mag(), this.y / this.mag());\r\n    }\r\n  }\r\n\r\n  drawVec(ctx, start_x, start_y, n, color) {\r\n    ctx.beginPath();\r\n    ctx.moveTo(start_x, start_y);\r\n    ctx.lineTo(start_x + this.x * n, start_y + this.y * n);\r\n    ctx.strokeStyle = color;\r\n    ctx.stroke();\r\n    ctx.closePath();\r\n  }\r\n\r\n  static dot(v1, v2) {\r\n    return v1.x * v2.x + v1.y * v2.y;\r\n  }\r\n}\r\n","import { Vector } from \"./vector\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nexport class TargetFull {\r\n  constructor(x, y, r, creatures, speed, dirChangeProp) {\r\n    this.id = uuidv4();\r\n    this.r = r;\r\n    this.orignalR = 0;\r\n    this.growth = 1;\r\n    this.dirChangeProp = dirChangeProp;\r\n    this.speed = speed;\r\n    this.birth = Date.now();\r\n    this.pos = new Vector(x, y);\r\n    this.isActive = true;\r\n    this.isClicked = false;\r\n    this.clickedTime = null;\r\n    this.vel = new Vector(Math.random(), Math.random());\r\n    creatures.current.push(this);\r\n  }\r\n\r\n  drawTarget(ctx) {\r\n    if (this.orignalR < this.r && this.growth === 1 && this.isActive) {\r\n      this.orignalR = this.orignalR + 0.3;\r\n      if (this.orignalR === this.r || this.orignalR > this.r) {\r\n        this.growth = -1;\r\n        this.orignalR = this.r;\r\n      }\r\n    } else if (this.orignalR > 0 && this.growth === -1 && this.isActive) {\r\n      this.orignalR = this.orignalR - 0.2;\r\n      if (this.orignalR === 0 || this.orignalR < 0) {\r\n        this.growth = 1;\r\n        this.orignalR = 0;\r\n      }\r\n    }\r\n\r\n    ctx.beginPath();\r\n    ctx.arc(this.pos.x, this.pos.y, this.orignalR, 0, 2 * Math.PI);\r\n    ctx.fillStyle = this.isActive ? \"#00FFFF\" : \"#FF5100\";\r\n    if (!this.isClicked) {\r\n      ctx.fill();\r\n    } else {\r\n      ctx.stroke();\r\n      ctx.strokeStyle = \"#9DFF00\";\r\n      ctx.lineWidth = 2;\r\n    }\r\n    ctx.closePath();\r\n  }\r\n\r\n  canDie() {\r\n    if (this.isClicked && this.clickedTime + 200 < Date.now()) return true;\r\n    return this.birth + 2500 < Date.now();\r\n  }\r\n\r\n  reposition(boundaries) {\r\n    const multiplier = [1, -1];\r\n    const plusMinusX = Math.floor(Math.random() * 2);\r\n    const plusMinusY = Math.floor(Math.random() * 2);\r\n    let newPosition;\r\n    if (true && Math.random() < this.dirChangeProp) {\r\n      this.vel = new Vector(\r\n        multiplier[plusMinusX] * Math.random(),\r\n        multiplier[plusMinusY] * Math.random()\r\n      );\r\n    }\r\n    newPosition = this.pos.add(this.vel * this.speed);\r\n\r\n    let isAtBoundary = false;\r\n    if (newPosition.x + this.r > boundaries.right) {\r\n      this.vel = new Vector(-1 * this.vel.x, this.vel.y);\r\n      isAtBoundary = true;\r\n    }\r\n    if (newPosition.y + this.r > window.bottom) {\r\n      this.vel = new Vector(this.vel.x, -1 * this.vel.y);\r\n      isAtBoundary = true;\r\n    }\r\n    if (newPosition.x < boundaries.left) {\r\n      this.vel = new Vector(-1 * this.vel.x, this.vel.y);\r\n      isAtBoundary = true;\r\n    }\r\n    if (newPosition.y < boundaries.top) {\r\n      this.vel = new Vector(this.vel.x, -1 * this.vel.y);\r\n      isAtBoundary = true;\r\n    }\r\n\r\n    if (isAtBoundary) {\r\n      newPosition = this.pos.add(this.vel * this.speed);\r\n    }\r\n\r\n    this.pos = newPosition;\r\n\r\n    // console.log(this.pos);\r\n  }\r\n\r\n  updateCreature(ctx, boundaries) {\r\n    // this.reposition(boundaries);\r\n    if (this.birth + 2200 < Date.now()) {\r\n      this.isActive = false;\r\n    }\r\n    this.drawTarget(ctx);\r\n  }\r\n}\r\n","const LifeIndicator = (props) => {\r\n  return (\r\n    <div\r\n      style={{ color: \"white\", fontWeight: \"600\" }}\r\n    >{`Lifes remaining : ${props.value}`}</div>\r\n  );\r\n};\r\n\r\nexport default LifeIndicator;\r\n","import { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst CountDownTimer = (props) => {\r\n  const [countDown, setCountDown] = useState(5);\r\n  useEffect(() => {\r\n    if (countDown > 0) {\r\n      setTimeout(() => {\r\n        setCountDown(countDown - 1);\r\n      }, 1000);\r\n    }\r\n  }, [countDown]);\r\n  return (\r\n    <div\r\n      style={{\r\n        color: \"white\",\r\n        fontSize: \"large\",\r\n        fontWeight: \"700\",\r\n      }}\r\n    >\r\n      {countDown}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CountDownTimer;\r\n","import { useEffect, useRef, useState } from \"react\";\r\nimport { TargetFull } from \"./targetFull\";\r\nimport { Vector } from \"./vector\";\r\nimport \"./challengeArena.css\";\r\nimport LifeIndicator from \"./lifeIndicator\";\r\nimport Countdown from \"antd/lib/statistic/Countdown\";\r\nimport CountDownTimer from \"./countDownTimer\";\r\nfunction clearCanvas(ctx, canvasRef) {\r\n  ctx?.clearRect(\r\n    0,\r\n    0,\r\n    canvasRef?.current?.clientWidth,\r\n    canvasRef?.current?.clientHeight\r\n  );\r\n}\r\n\r\n\r\n\r\nfunction getInActive(targets) {}\r\n\r\nconst boundaries = {\r\n  left: 20,\r\n  top: 120,\r\n  right: window.innerWidth - 20,\r\n  bottom: window.innerHeight - 20,\r\n};\r\n\r\nconst ChallengeArena = () => {\r\n  const [ctx, setCtx] = useState(null);\r\n  const canvasRef = useRef(null);\r\n  const startTimeRef = useRef(Date.now());\r\n  const [lifes, setlifes] = useState(5);\r\n  const lifesRef = useRef(5);\r\n  const gameLoops = useRef(0);\r\n  const speedRef = useRef(0.5);\r\n  const playingRef = useRef(true);\r\n  const [playing, setPlaying] = useState(playingRef.current);\r\n  const gameOverRef = useRef(false);\r\n  const [gameOver,setGameOver] = useState(false);\r\n  const [isCountDown,setIsCountDown] = useState(false);\r\n  const TARGETS = useRef([]);\r\n\r\n\r\n  useEffect(() => {\r\n    if (canvasRef && canvasRef.current) {\r\n      console.log({ canvasRef });\r\n      const canvas = document.getElementById(\"canvas\");\r\n      const ctx = canvas.getContext(\"2d\");\r\n      canvasRef.current.focus();\r\n      setCtx(ctx);\r\n    }\r\n  }, [canvasRef]);\r\n\r\n  \r\n\r\n\r\n  useEffect(() => {\r\n    if (playing) {\r\n      startTimeRef.current = Date.now();\r\n      setGameOver(false);\r\n    } else {\r\n      gameLoops.current = 0;\r\n    }\r\n  }, [playing]);\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    let reqID = null;\r\n\r\n    console.log(playingRef.current);\r\n    if (ctx && playing && !gameOver) {\r\n      console.log(\"playing....\")\r\n      setIsCountDown(true);\r\n      setTimeout(()=>{\r\n        console.log(\"started....\")\r\n        setIsCountDown(false);\r\n        reqID = requestAnimationFrame(mainLoop);\r\n      },5500)\r\n      \r\n      return () => {\r\n        if (reqID) {\r\n          cancelAnimationFrame(reqID);\r\n        }\r\n      };\r\n    }\r\n    \r\n  }, [ctx, playing]);\r\n\r\n  function addTarget(targets) {\r\n    if   (canvasRef   &&   canvasRef.current)   {\r\n      const x = 20 + Math.random() * (canvasRef.current.clientWidth - 40);\r\n      const y = 20 + Math.random() * (canvasRef.current.clientHeight - 40);\r\n      const target = new TargetFull(x, y, 20, targets, 1, 0.5);\r\n    }\r\n  }\r\n\r\n  function die(targets) {\r\n    for (let i = 0; i < targets.current.length; i++) {\r\n      if (targets.current[i].canDie()) {\r\n        if (!targets.current[i].isClicked) {\r\n          \r\n          lifesRef.current = lifesRef.current-1;\r\n          console.log(lifesRef.current);\r\n          setlifes(lifesRef.current);\r\n          if(lifesRef.current===0){\r\n            gameOverRef.current = true;\r\n            setGameOver(true);\r\n          }\r\n        }\r\n        targets.current.splice(i, 1);\r\n      }\r\n    }\r\n  }\r\n\r\n  function mainLoop(timestamp) {\r\n    // console.log(\"running\");\r\n\r\n    if (playingRef.current&&!gameOverRef.current) {\r\n      clearCanvas(ctx, canvasRef);\r\n      die(TARGETS);\r\n      let spwanBuffer = 800;\r\n      if (gameLoops.current * 100 < 2000 - spwanBuffer) {\r\n        spwanBuffer = 2000 - gameLoops.current * 100;\r\n      }\r\n      if (Date.now() > startTimeRef.current + spwanBuffer) {\r\n        addTarget(TARGETS);\r\n        startTimeRef.current = Date.now();\r\n        gameLoops.current = gameLoops.current + 1;\r\n      }\r\n      TARGETS.current.forEach((b, index) => {\r\n        b.updateCreature(ctx, boundaries);\r\n      });\r\n      requestAnimationFrame(mainLoop);\r\n    }else{\r\n      return;\r\n    }\r\n\r\n    \r\n  }\r\n\r\n  function handleCanvasClick(e) {\r\n    const mouse = new Vector(e.clientX - 20, e.clientY - 70);\r\n    const targets = TARGETS.current;\r\n    for (let i = 0; i < targets.length; i++) {\r\n      if (\r\n        targets[i].pos.subtr(mouse).mag() < targets[i].orignalR &&\r\n        targets[i].isActive\r\n      ) {\r\n        targets[i].isClicked = true;\r\n        targets[i].clickedTime = Date.now();\r\n      }\r\n    }\r\n  }\r\n  function handleKeyDown(e) {\r\n    if (e.keyCode === 32) {\r\n      console.log(\"space\");\r\n      playingRef.current = !playingRef.current;\r\n      setPlaying(!playing);\r\n    }\r\n  }\r\n  return (\r\n    <div\r\n      style={{ height: \"100%\", width: \"100%\" }}\r\n      className=\"d-flex flex-column\"\r\n    >\r\n      <div\r\n        style={{ height: 50, width: window.innerWidth }}\r\n        className=\"d-flex justify-content-between align-items-center px-4\"\r\n      >\r\n        <LifeIndicator value={lifes} />\r\n      </div>\r\n      <div\r\n        style={{\r\n          height: window.innerHeight - 50,\r\n          width: window.innerWidth,\r\n          padding: 20,\r\n          position: \"relative\",\r\n        }}\r\n      >\r\n        {gameOver ? (\r\n          <div\r\n            style={{\r\n              position: \"absolute\",\r\n              width: window.innerWidth - 40,\r\n              height: window.innerHeight - 90,\r\n              backgroundColor: \"#FFFFFF72\",\r\n              color: \"white\",\r\n              fontSize: \"large\",\r\n              fontWeight: \"700\",\r\n            }}\r\n            className=\"d-flex justify-content-center align-items-center\"\r\n          >\r\n            Game over\r\n          </div>\r\n        ) : null}\r\n        {isCountDown ? (\r\n          <div\r\n            style={{\r\n              position: \"absolute\",\r\n              width: window.innerWidth - 40,\r\n              height: window.innerHeight - 90,\r\n              backgroundColor: \"#FFFFFF72\",\r\n              color: \"white\",\r\n              fontSize: \"large\",\r\n              fontWeight: \"700\",\r\n            }}\r\n            className=\"d-flex justify-content-center align-items-center\"\r\n          >\r\n            <CountDownTimer />\r\n          </div>\r\n        ) : null}\r\n        <canvas\r\n          style={{ position: \"absolute\" }}\r\n          className=\"canvas\"\r\n          onClick={handleCanvasClick}\r\n          onKeyDown={handleKeyDown}\r\n          tabIndex={1}\r\n          id=\"canvas\"\r\n          ref={canvasRef}\r\n          width={window.innerWidth - 40}\r\n          height={window.innerHeight - 90}\r\n          style={{ backgroundColor: \"#1B1B1B\" }}\r\n        ></canvas>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChallengeArena;\r\n","import { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport \"./App.css\";\nimport ChallengeArena from \"./components/challengeArena\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <ChallengeArena />\n      {/* <Router>\n        <Switch>\n          <Route exact path=\"/\">\n            <ChallengeArena />\n          </Route>\n          <Route exact path=\"/challenge\">\n            <ChallengeArena />\n          </Route>\n          <Route exact path=\"/precision\"></Route>\n          <Route exact path=\"/double\"></Route>\n          <Route exact path=\"/moving\"></Route>\n          <Route exact path=\"/tracking\"></Route>\n          <Route>C</Route>\n        </Switch>\n      </Router> */}\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}