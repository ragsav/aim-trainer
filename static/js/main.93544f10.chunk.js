(this["webpackJsonpaim-trainer"]=this["webpackJsonpaim-trainer"]||[]).push([[0],{44:function(t,e,n){},45:function(t,e,n){},46:function(t,e,n){},50:function(t,e,n){"use strict";n.r(e);var i=n(0),r=n.n(i),s=n(19),c=n.n(s),o=(n(44),n(45),n(28)),a=n(12),h=n(20),l=n(21),u=function(){function t(e,n){Object(h.a)(this,t),this.x=e,this.y=n}return Object(l.a)(t,[{key:"add",value:function(e){return new t(this.x+e.x,this.y+e.y)}},{key:"subtr",value:function(e){return new t(this.x-e.x,this.y-e.y)}},{key:"mag",value:function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))}},{key:"mult",value:function(e){return new t(this.x*e,this.y*e)}},{key:"normal",value:function(){return new t(-this.y,this.x).unit()}},{key:"unit",value:function(){return 0===this.mag()?new t(0,0):new t(this.x/this.mag(),this.y/this.mag())}},{key:"drawVec",value:function(t,e,n,i,r){t.beginPath(),t.moveTo(e,n),t.lineTo(e+this.x*i,n+this.y*i),t.strokeStyle=r,t.stroke(),t.closePath()}}],[{key:"dot",value:function(t,e){return t.x*e.x+t.y*e.y}}]),t}(),d=n(58),f=function(){function t(e,n,i,r,s,c){Object(h.a)(this,t),this.id=Object(d.a)(),this.r=i,this.orignalR=0,this.growth=1,this.dirChangeProp=c,this.speed=s,this.birth=Date.now(),this.pos=new u(e,n),this.isActive=!0,this.isClicked=!1,this.clickedTime=null,this.vel=new u(Math.random(),Math.random()),r.current.push(this)}return Object(l.a)(t,[{key:"drawTarget",value:function(t){this.orignalR<this.r&&1===this.growth&&this.isActive?(this.orignalR=this.orignalR+.3,(this.orignalR===this.r||this.orignalR>this.r)&&(this.growth=-1,this.orignalR=this.r)):this.orignalR>0&&-1===this.growth&&this.isActive&&(this.orignalR=this.orignalR-.2,(0===this.orignalR||this.orignalR<0)&&(this.growth=1,this.orignalR=0)),t.beginPath(),t.arc(this.pos.x,this.pos.y,this.orignalR,0,2*Math.PI),t.fillStyle=this.isActive?"#00FFFF":"#FF5100",this.isClicked?(t.stroke(),t.strokeStyle="#9DFF00",t.lineWidth=2):t.fill(),t.closePath()}},{key:"canDie",value:function(){return!!(this.isClicked&&this.clickedTime+200<Date.now())||this.birth+2500<Date.now()}},{key:"reposition",value:function(t){var e,n=[1,-1],i=Math.floor(2*Math.random()),r=Math.floor(2*Math.random());Math.random()<this.dirChangeProp&&(this.vel=new u(n[i]*Math.random(),n[r]*Math.random()));var s=!1;(e=this.pos.add(this.vel*this.speed)).x+this.r>t.right&&(this.vel=new u(-1*this.vel.x,this.vel.y),s=!0),e.y+this.r>window.bottom&&(this.vel=new u(this.vel.x,-1*this.vel.y),s=!0),e.x<t.left&&(this.vel=new u(-1*this.vel.x,this.vel.y),s=!0),e.y<t.top&&(this.vel=new u(this.vel.x,-1*this.vel.y),s=!0),s&&(e=this.pos.add(this.vel*this.speed)),this.pos=e}},{key:"updateCreature",value:function(t,e){this.birth+2200<Date.now()&&(this.isActive=!1),this.drawTarget(t)}}]),t}(),g=(n(46),n(59)),v=n(3),w=function(t){var e=new Array(5).fill(1);return Object(v.jsx)("div",{style:{color:"white",fontWeight:"600"},className:"d-flex justify-content-center align-items-end h-100",children:e.map((function(e,n){return Object(v.jsx)("div",{className:"p-1",children:Object(v.jsx)(g.a,{style:{color:n<t.value?"red":"white"}})})}))})},j=function(t){var e=Object(i.useState)(5),n=Object(a.a)(e,2),r=n[0],s=n[1];return Object(i.useEffect)((function(){r>0&&setTimeout((function(){s(r-1)}),1e3)}),[r]),Object(v.jsx)("div",{style:{color:"white",fontSize:"large",fontWeight:"700"},children:r})},b=n(57);function m(t,e){var n,i;null===t||void 0===t||t.clearRect(0,0,null===e||void 0===e||null===(n=e.current)||void 0===n?void 0:n.clientWidth,null===e||void 0===e||null===(i=e.current)||void 0===i?void 0:i.clientHeight)}var y={left:20,top:120,right:window.innerWidth-20,bottom:window.innerHeight-20},x=function(){var t=Object(i.useState)(null),e=Object(a.a)(t,2),n=e[0],r=e[1],s=Object(i.useRef)(null),c=Object(i.useRef)(Date.now()),h=Object(i.useState)(5),l=Object(a.a)(h,2),d=l[0],g=l[1],x=Object(i.useRef)(5),O=Object(i.useRef)(0),p=(Object(i.useRef)(.5),Object(i.useRef)(!0)),k=Object(i.useState)(p.current),F=Object(a.a)(k,2),R=F[0],C=F[1],M=Object(i.useRef)(!1),D=Object(i.useState)(!1),S=Object(a.a)(D,2),W=S[0],A=S[1],T=Object(i.useState)(!1),N=Object(a.a)(T,2),P=N[0],E=N[1],H=Object(i.useRef)([]);function B(t){if(p.current&&!M.current){m(n,s),function(t){for(var e=0;e<t.current.length;e++)t.current[e].canDie()&&(t.current[e].isClicked||(x.current=x.current-1,console.log(x.current),g(x.current),0===x.current&&(M.current=!0,A(!0))),t.current.splice(e,1))}(H);var e=800;100*O.current<2e3-e&&(e=2e3-100*O.current),Date.now()>c.current+e&&(!function(t){if(s&&s.current){var e=20+Math.random()*(s.current.clientWidth-40),n=20+Math.random()*(s.current.clientHeight-40);new f(e,n,20,t,1,.5)}}(H),c.current=Date.now(),O.current=O.current+1),H.current.forEach((function(t,e){t.updateCreature(n,y)})),requestAnimationFrame(B)}}return Object(i.useEffect)((function(){if(s&&s.current){console.log({canvasRef:s});var t=document.getElementById("canvas").getContext("2d");s.current.focus(),r(t)}}),[s]),Object(i.useEffect)((function(){R?(c.current=Date.now(),A(!1)):O.current=0}),[R]),Object(i.useEffect)((function(){var t=null;if(n&&R&&!W)return console.log("playing...."),E(!0),setTimeout((function(){console.log("started...."),E(!1),t=requestAnimationFrame(B)}),5500),function(){t&&cancelAnimationFrame(t)}}),[n,R,W]),Object(v.jsxs)("div",{style:{height:"100%",width:"100%"},className:"d-flex flex-column",children:[Object(v.jsx)("div",{style:{height:50,width:window.innerWidth},className:"d-flex justify-content-between align-items-center px-5",children:Object(v.jsx)(w,{value:d})}),Object(v.jsxs)("div",{style:{height:window.innerHeight-50,width:window.innerWidth,padding:20,position:"relative"},className:"d-flex justify-content-center align-items-center",children:[W?Object(v.jsxs)("div",{style:{position:"absolute",width:window.innerWidth-80,height:window.innerHeight-90,backgroundColor:"#FFFFFF72",color:"white",fontSize:"large",fontWeight:"700"},className:"d-flex flex-column justify-content-center align-items-center",children:[Object(v.jsx)("div",{className:"mb-2",children:"Game over"}),Object(v.jsx)(b.a,{type:"dashed",onClick:function(t){t.preventDefault(),m(n,s),A(!1),C(!0),E(!0),g(5),x.current=5,H.current=[],M.current=!1,p.current=!0},children:"Restart"})]}):null,P?Object(v.jsx)("div",{style:{position:"absolute",width:window.innerWidth-80,height:window.innerHeight-90,backgroundColor:"#FFFFFF72",color:"white",fontSize:"large",fontWeight:"700"},className:"d-flex justify-content-center align-items-center",children:Object(v.jsx)(j,{})}):null,Object(v.jsx)("canvas",Object(o.a)({style:{position:"absolute"},className:"canvas",onClick:function(t){for(var e=new u(t.clientX-40,t.clientY-70),n=H.current,i=0;i<n.length;i++)n[i].pos.subtr(e).mag()<n[i].orignalR&&n[i].isActive&&(n[i].isClicked=!0,n[i].clickedTime=Date.now())},onKeyDown:function(t){32===t.keyCode&&(console.log("space"),p.current=!p.current,C(!R))},tabIndex:1,id:"canvas",ref:s,width:window.innerWidth-80,height:window.innerHeight-90},"style",{backgroundColor:"#1B1B1B"}))]})]})};n(49);var O=function(){return Object(v.jsx)("div",{className:"App",children:Object(v.jsx)(x,{})})},p=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,60)).then((function(e){var n=e.getCLS,i=e.getFID,r=e.getFCP,s=e.getLCP,c=e.getTTFB;n(t),i(t),r(t),s(t),c(t)}))};c.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(O,{})}),document.getElementById("root")),p()}},[[50,1,2]]]);
//# sourceMappingURL=main.93544f10.chunk.js.map