(this["webpackJsonpaim-trainer"]=this["webpackJsonpaim-trainer"]||[]).push([[0],{128:function(e,t,n){},129:function(e,t,n){},204:function(e,t,n){},205:function(e,t,n){"use strict";n.r(t);var i=n(0),s=n.n(i),c=n(20),r=n.n(c),a=(n(128),n(34)),l=n(19),o=(n(129),n(8)),u=n(50),d=n(51),h=function(){function e(t,n){Object(u.a)(this,e),this.x=t,this.y=n}return Object(d.a)(e,[{key:"add",value:function(t){return new e(this.x+t.x,this.y+t.y)}},{key:"subtr",value:function(t){return new e(this.x-t.x,this.y-t.y)}},{key:"mag",value:function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))}},{key:"mult",value:function(t){return new e(this.x*t,this.y*t)}},{key:"normal",value:function(){return new e(-this.y,this.x).unit()}},{key:"unit",value:function(){return 0===this.mag()?new e(0,0):new e(this.x/this.mag(),this.y/this.mag())}},{key:"drawVec",value:function(e,t,n,i,s){e.beginPath(),e.moveTo(t,n),e.lineTo(t+this.x*i,n+this.y*i),e.strokeStyle=s,e.stroke(),e.closePath()}}],[{key:"dot",value:function(e,t){return e.x*t.x+e.y*t.y}}]),e}(),j=n(211),b=function(){function e(t,n,i,s,c,r){var a,l;Object(u.a)(this,e),this.id=Object(j.a)(),this.r=i,this.orignalR=0,this.clickR=i,this.growth=1,this.speed=r,this.birth=Date.now(),this.pos=new h(t,n),this.clickPos=null,this.isActive=!0,this.isClicked=!1,this.clickedTime=null,this.vel=new h(Math.random()*r,Math.random()*r),s.current.push(this),null===c||void 0===c||null===(a=c.current)||void 0===a||null===(l=a.targets)||void 0===l||l.push(this)}return Object(d.a)(e,[{key:"drawTarget",value:function(e){this.r>10?this.orignalR<this.r&&1===this.growth&&this.isActive?(this.orignalR=this.orignalR+.3,(this.orignalR===this.r||this.orignalR>this.r)&&(this.growth=-1,this.orignalR=this.r)):this.orignalR>0&&-1===this.growth&&this.isActive&&(this.orignalR=this.orignalR-.2,(0===this.orignalR||this.orignalR<0)&&(this.growth=1,this.orignalR=0)):this.orignalR=this.r,this.isActive?this.isClicked?(e.beginPath(),e.arc(this.pos.x,this.pos.y,this.orignalR,0,2*Math.PI),e.stroke(),e.strokeStyle="#4DFF00",e.lineWidth=2,e.closePath()):(e.beginPath(),e.arc(this.pos.x,this.pos.y,this.orignalR,0,2*Math.PI),e.fillStyle="#FF5100",e.fill(),e.closePath(),e.beginPath(),e.arc(this.pos.x,this.pos.y,3*this.orignalR/4,0,2*Math.PI),e.fillStyle="#FFFFFF",e.fill(),e.closePath(),e.beginPath(),e.arc(this.pos.x,this.pos.y,this.orignalR/2,0,2*Math.PI),e.fillStyle="#FF5100",e.fill(),e.closePath(),e.beginPath(),e.arc(this.pos.x,this.pos.y,1*this.orignalR/4,0,2*Math.PI),e.fillStyle="#FFFFFF",e.fill(),e.closePath()):(e.beginPath(),e.arc(this.pos.x,this.pos.y,this.orignalR,0,2*Math.PI),e.stroke(),e.strokeStyle="#FFFFFF",e.lineWidth=2,e.closePath())}},{key:"canDie",value:function(){return!!(this.isClicked&&this.clickedTime+200<Date.now())||this.birth+2500<Date.now()}},{key:"setClickedRadius",value:function(){this.clickR=this.orignalR}},{key:"reposition",value:function(e){var t,n=e.canvas,i=[1,-1],s=Math.floor(2*Math.random()),c=Math.floor(2*Math.random());Math.random()>.98&&(this.vel=new h(i[s]*Math.random(),i[c]*Math.random()));var r=!1;(t=this.pos.add(this.vel.mult(this.speed))).x+this.r>n.clientWidth&&(this.vel=new h(-1*this.vel.x,this.vel.y),r=!0),t.y+this.r>n.clientHeight&&(this.vel=new h(this.vel.x,-1*this.vel.y),r=!0),t.x+this.r<0&&(this.vel=new h(-1*this.vel.x,this.vel.y),r=!0),t.y+this.r<0&&(this.vel=new h(this.vel.x,-1*this.vel.y),r=!0),r&&(t=this.pos.add(this.vel.mult(this.speed))),this.pos=t}},{key:"updateCreature",value:function(e){this.reposition(e),this.birth+2200<Date.now()&&(this.isActive=!1),this.drawTarget(e)}}]),e}(),f=n(1),m=function(e){var t=Object(i.useState)(5),n=Object(o.a)(t,2),s=n[0],c=n[1];return Object(i.useEffect)((function(){s>0&&setTimeout((function(){c(s-1)}),1e3)}),[s]),Object(f.jsx)("div",{style:{position:"absolute",width:e.width,height:e.height,backgroundColor:"#FFFFFF26",color:"white",fontSize:"large",fontWeight:"700",zIndex:2},className:"d-flex justify-content-center align-items-center",children:Object(f.jsx)("div",{style:{color:"white",fontSize:"10em",fontWeight:"700"},children:s})})},g=n(213),O=function(e){return Object(f.jsxs)("div",{style:{position:"absolute",width:e.width,height:e.height,backgroundColor:"#FFFFFF26",color:"white",fontSize:"large",fontWeight:"700",zIndex:2},className:"d-flex flex-column justify-content-center align-items-center",children:[Object(f.jsx)("button",{onClick:e.startGame,className:" btn core-button py-2 px-3",children:Object(f.jsxs)("div",{className:"d-flex  justify-content-center align-items-center",children:[Object(f.jsx)(g.a,{style:{fontSize:36}}),Object(f.jsx)("span",{className:"ml-2",children:"PLAY"})]})}),Object(f.jsx)("span",{style:{fontSize:"small",fontWeight:"500",zIndex:2},className:"mt-4",children:"Press (SPACE) or (ESC) to finish training"})]})},x=n(212),w=n.p+"static/media/aim.28510207.png",v=n(215),p=n(216),y=n(214),S=function(e){var t=new Array(e.totalLifes).fill(1);return Object(f.jsx)("div",{style:{color:"white",fontWeight:"600"},className:"d-flex justify-content-center align-items-end h-100 ",children:t.map((function(t,n){return Object(f.jsx)("div",{className:"p-1",children:Object(f.jsx)(y.a,{style:{color:n<e.value?"red":"white"}})})}))})},N=function(e){return Object(f.jsxs)("div",{style:{height:e.height,width:e.width},className:"d-flex justify-content-between align-items-center px-5",children:[Object(f.jsxs)("div",{className:"d-flex justify-content-left align-items-center",style:{fontSize:"x-large",fontWeight:"700",color:"white"},children:[Object(f.jsx)(a.b,{to:"/aim-trainer",children:Object(f.jsx)("img",{src:w,height:30,width:30,className:"mr-3 nav-bar-logo"})}),Object(f.jsx)("span",{className:"nav-bar-title",children:"Challenge"})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-right align-items-center ",style:{fontSize:"large",fontWeight:"700",color:"white"},children:[Object(f.jsx)("div",{className:"nav-bar-stat-item",children:Object(f.jsx)(S,{value:e.lifes,totalLifes:e.totalLifes})}),Object(f.jsx)(x.a,{className:e.isSoundOn?"ml-5 settings-button":"ml-5 sound-disabled-button",icon:Object(f.jsx)(v.a,{style:{fontSize:20}}),onClick:function(){return e.setIsSoundOn(!e.isSoundOn)}}),Object(f.jsx)(x.a,{className:"ml-3 settings-button",icon:Object(f.jsx)(p.a,{style:{fontSize:20}}),onClick:function(){return e.setIsSettingsOpen(!0)}})]})]})},F=n(217),R=function(e){var t=e.data;if(t){var n,i,s=0,c=0,r=t.targets[0]?t.finishTime-t.targets[0].birth:0,a=0,l=0;return t.targets.forEach((function(e){e.birth<t.finishTime&&(s++,e.isClicked&&(c++,l=l+e.clickedTime-e.birth,a+=(e.clickR-e.pos.subtr(e.clickPos).mag())/e.clickR))})),l=0===s?0:l/s,a=0===c?0:a/c*100,n=0===s?0:c/s*100,i=0===r?0:c/r*1e3,Object(f.jsx)("div",{style:{position:"absolute",width:e.width,height:e.height,backgroundColor:"#FFFFFF26",color:"white",fontSize:"large",fontWeight:"700",zIndex:2},className:"d-flex flex-column justify-content-center align-items-center",children:Object(f.jsxs)("div",{className:"d-flex flex-column justify-content-start align-items-center ",style:{width:300},children:[Object(f.jsx)("div",{className:"mb-2",style:{fontSize:"x-large"},children:"Game over"}),Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4 w-100 ",children:[Object(f.jsx)("span",{children:"Hits"}),Object(f.jsx)("span",{children:c})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-1 w-100",children:[Object(f.jsx)("span",{children:"Miss"}),Object(f.jsx)("span",{children:s-c})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-1 w-100",children:[Object(f.jsx)("span",{children:"Accuracy"}),Object(f.jsxs)("span",{children:[Math.round(100*n)/100," %"]})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-1 w-100",children:[Object(f.jsx)("span",{children:"Precision"}),Object(f.jsxs)("span",{children:[Math.round(100*a)/100," %"]})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-1 w-100",children:[Object(f.jsx)("span",{children:"Avg response time"}),Object(f.jsxs)("span",{children:[Math.round(1e3*l)/1e3," ms"]})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-1 w-100",children:[Object(f.jsx)("span",{children:"Speed"}),Object(f.jsxs)("span",{children:[Math.round(100*i)/100," targets/sec"]})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-1 mb-4 w-100",children:[Object(f.jsx)("span",{children:"Time"}),Object(f.jsxs)("span",{children:[r/1e3," sec"]})]}),Object(f.jsx)("button",{onClick:e.startGame,className:" btn core-button py-2 px-3",children:Object(f.jsxs)("div",{className:"d-flex  justify-content-center align-items-center",children:[Object(f.jsx)(F.a,{style:{fontSize:36}}),Object(f.jsx)("span",{className:"ml-2",children:"RESTART"})]})})]})})}return Object(f.jsx)("div",{})},k=n(209),C=n(30),I=n.n(C),T=n(218),W=function(e){return Object(f.jsx)(I.a,{centered:!0,visible:e.isSettingsOpen,width:500,title:Object(f.jsxs)("div",{className:"d-flex justify-content-start align-items-center m-0",children:[Object(f.jsx)(p.a,{}),Object(f.jsx)("span",{style:{backgroundColor:"#FFFFFF",color:"rgb(6, 43, 66)",fontSize:"large",fontWeight:"900"},className:"ml-2",children:"SETTINGS"})]}),onCancel:function(){return e.setIsSettingsOpen(!1)},closeIcon:Object(f.jsx)(T.a,{className:"settings-close-button"}),footer:null,children:Object(f.jsxs)("div",{className:"d-flex flex-column justify-content-start align-items-center m-0",style:{backgroundColor:"#FFFFFF",color:"rgb(6, 43, 66)",fontSize:"large",fontWeight:"700"},children:[Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4 w-100 ",children:[Object(f.jsx)("span",{children:"Spawn rate increase/sec"}),Object(f.jsx)(k.a,{style:{width:200},defaultValue:e.spawnRateIncrease,onChange:function(t){e.setSpawnRateIncrease(t)},step:10,min:0,max:400})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4 w-100 ",children:[Object(f.jsx)("span",{children:"Spawn rate limit"}),Object(f.jsx)(k.a,{style:{width:200},defaultValue:e.spawnRateLimit,onChange:function(t){e.setSpawnRateLimit(t)},step:100,min:100,max:2e3})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4 w-100 ",children:[Object(f.jsx)("span",{children:"Lifes"}),Object(f.jsx)(k.a,{style:{width:200},defaultValue:e.totalLifes,onChange:function(t){e.setTotalLifes(t)},step:1,min:1,max:8})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4 w-100 ",children:[Object(f.jsx)("span",{children:"Target speed"}),Object(f.jsx)(k.a,{style:{width:200},defaultValue:e.speed,onChange:function(t){e.setSpeed(t)},step:.1,min:0,max:3})]})]})})},P=n.p+"static/media/shotgun.be7adb98.mp3",z=n.p+"static/media/shotgun-reload.30299b00.mp3",M=window.innerWidth<750?10:20;function D(e,t){var n,i;null===e||void 0===e||e.clearRect(0,0,null===t||void 0===t||null===(n=t.current)||void 0===n?void 0:n.clientWidth,null===t||void 0===t||null===(i=t.current)||void 0===i?void 0:i.clientHeight)}window.innerWidth,window.innerHeight;var E=function(){var e=Object(i.useState)(null),t=Object(o.a)(e,2),n=t[0],s=t[1],c=Object(i.useRef)(null),r=Object(i.useRef)(Date.now()),a=Object(i.useState)(5),l=Object(o.a)(a,2),u=l[0],d=l[1],j=Object(i.useState)(u),g=Object(o.a)(j,2),x=g[0],w=g[1],v=Object(i.useRef)(u),p=Object(i.useRef)(0),y=Object(i.useState)(0),S=Object(o.a)(y,2),F=S[0],k=S[1],C=Object(i.useRef)(!1),I=Object(i.useState)(C.current),T=Object(o.a)(I,2),E=T[0],H=T[1],A=Object(i.useState)(!1),G=Object(o.a)(A,2),L=G[0],V=G[1],q=Object(i.useState)(!1),B=Object(o.a)(q,2),Y=B[0],X=B[1],K=Object(i.useRef)([]),J=Object(i.useRef)({totalTargets:0,targets:[],finishTime:null}),Q=Object(i.useState)(0),U=Object(o.a)(Q,2),Z=U[0],$=U[1],_=Object(i.useState)(!1),ee=Object(o.a)(_,2),te=ee[0],ne=ee[1],ie=Object(i.useState)(1e3),se=Object(o.a)(ie,2),ce=se[0],re=se[1],ae=Object(i.useState)(50),le=Object(o.a)(ae,2),oe=le[0],ue=le[1],de=Object(i.useState)(!0),he=Object(o.a)(de,2),je=he[0],be=he[1],fe=Object(i.useRef)(null),me=Object(i.useRef)(null);function ge(){L||V(!0),D(n,c),H(!0),X(!0),w(u),$(0),p.current=0,r.current=Date.now(),v.current=u,K.current=[],C.current=!0,je&&(me.current.pause(),me.current.currentTime=0,me.current.play())}function Oe(){D(n,c),J.current.finishTime=Date.now(),H(!1),C.current=!1,console.log(J.current.targets)}function xe(e){if(C.current){D(n,c),function(e){for(var t=0;t<e.current.length;t++)e.current[t].canDie()&&(e.current[t].isClicked||(v.current=v.current-1,console.log(v.current),w(v.current),0===v.current&&(Oe(),D(n,c))),e.current.splice(t,1))}(K);var t=ce;p.current*oe<2e3-t&&(t=2e3-p.current*oe),Date.now()>r.current+t&&(!function(e){if(c&&c.current){var t=20+Math.random()*(c.current.clientWidth-40),n=20+Math.random()*(c.current.clientHeight-40);new b(t,n,20,e,J,F),J.current.totalTargets=J.current.totalTargets+1}}(K),r.current=Date.now(),p.current=p.current+1),K.current.forEach((function(e,t){e.updateCreature(n)})),requestAnimationFrame(xe)}else D(n,c)}return Object(i.useEffect)((function(){te&&E&&Oe()}),[te]),Object(i.useEffect)((function(){w(u)}),[u]),Object(i.useEffect)((function(){if(c&&c.current){console.log({canvasRef:c});var e=document.getElementById("canvas");e.focus();var t=e.getContext("2d");c.current.focus(),s(t)}}),[c]),Object(i.useEffect)((function(){var e=null;if(n&&E)return console.log("playing...."),X(!0),setTimeout((function(){console.log("started...."),X(!1),e=requestAnimationFrame(xe)}),5500),function(){e&&cancelAnimationFrame(e)}}),[n,E]),Object(f.jsxs)("div",{onKeyDown:function(e){e.preventDefault(),32!==e.keyCode&&27!==e.keyCode||(console.log("space key pressed"),Oe())},style:{height:"100%",width:"100%"},className:"d-flex flex-column",children:[je?Object(f.jsxs)("div",{children:[Object(f.jsx)("audio",{ref:fe,src:P}),Object(f.jsx)("audio",{ref:me,src:z})]}):null,Object(f.jsx)(W,{isSettingsOpen:te,setIsSettingsOpen:ne,spawnRateLimit:ce,spawnRateIncrease:oe,setSpawnRateLimit:re,setSpawnRateIncrease:ue,totalLifes:u,setTotalLifes:d,speed:F,setSpeed:k}),Object(f.jsx)(N,{lifes:x,hits:Z,height:50,width:window.innerWidth,setIsSettingsOpen:ne,totalLifes:u,isSoundOn:je,setIsSoundOn:be}),Object(f.jsxs)("div",{style:{height:window.innerHeight-50,width:window.innerWidth,padding:M,position:"relative"},className:"d-flex justify-content-center align-items-center",children:[L?E?null:Object(f.jsx)(R,{width:window.innerWidth-4*M,height:window.innerHeight-90,data:J.current,startGame:ge}):Object(f.jsx)(O,{width:window.innerWidth-4*M,height:window.innerHeight-90,startGame:ge}),Y?Object(f.jsx)(m,{width:window.innerWidth-4*M,height:window.innerHeight-90}):null,Object(f.jsx)("canvas",{style:{position:"absolute"},className:"canvas",onClick:function(e){e.preventDefault();var t=new h(e.clientX-2*M,e.clientY-70);je&&(fe.current.pause(),fe.current.currentTime=0,fe.current.play());for(var n=K.current,i=0;i<n.length;i++)n[i].pos.subtr(t).mag()<n[i].orignalR&&n[i].isActive&&($(Z+1),n[i].isClicked=!0,n[i].clickedTime=Date.now(),n[i].setClickedRadius(),n[i].clickPos=t)},tabIndex:1,id:"canvas",ref:c,width:window.innerWidth-4*M,height:window.innerHeight-90})]})]})},H=(n(203),n(204),n(219)),A=n.p+"static/media/revolver.334fd597.png",G=n.p+"static/media/challenge.babe4f3c.PNG",L=function(e){var t=Object(i.useState)(!1),n=Object(o.a)(t,2),s=n[0],c=n[1];return Object(f.jsxs)("div",{className:"w-100 row m-0 p-0 px-1 mt-4 py-1 pb-2",style:{animationName:"slide-in",animationDuration:"1s",animationFillMode:"forwards",animationDelay:e.delay,transform:"translateX(-25000px)",backgroundColor:"#182336",borderRadius:4},children:[Object(f.jsx)("div",{className:" col-md-4 col-lg-3 m-0 p-0 px-2  mt-2  order-md-1 order-2",style:{width:"100%",height:"100%"},children:Object(f.jsx)("img",{src:G,style:{width:"100%",height:"100%",border:"2px solid tomato",borderRadius:4}})}),Object(f.jsxs)("div",{className:" col-md-8 col-lg-9 m-0 p-0 w-100 d-flex flex-column align-items-start px-3  order-md-2 order-1",style:{textAlign:"start"},children:[Object(f.jsxs)("div",{className:"d-flex justify-content-start align-items-center w-100",onMouseEnter:function(){c(!0)},onMouseLeave:function(){c(!1)},children:[s?Object(f.jsx)("img",{src:A,style:{height:36,width:36},className:"mr-3"}):null,Object(f.jsx)(a.b,{to:"/aim-trainer/".concat(e.url),className:"link",children:e.title})]}),Object(f.jsx)("p",{className:"mode-description",style:{fontSize:"medium",fontWeight:"600"},children:e.desrciption})]})]})},V=function(e){var t=Object(i.useRef)(null),n=Object(i.useState)(!1),s=Object(o.a)(n,2),c=s[0],r=s[1];return Object(i.useEffect)((function(){c&&t&&t.current&&(console.log("hello"),t.current.pause(),t.current.currentTime=0,t.current.play())}),[c]),Object(f.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center home",children:[Object(f.jsx)("audio",{ref:t,src:z}),Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center w-100 container mt-3",children:[Object(f.jsxs)("div",{className:"d-flex justify-content-start align-items-center w-100 mt-3",style:{fontSize:"x-large",fontWeight:"700",color:"white"},children:[Object(f.jsx)("img",{src:w,height:60,width:60,className:"mr-3 logo",onMouseEnter:function(){r(!0)},onMouseLeave:function(){r(!1)}}),Object(f.jsx)("span",{className:"nav-bar-title",children:"Aim Trainer"})]}),Object(f.jsx)("div",{className:"d-flex justify-content-end align-items-center w-100 mt-3",style:{fontSize:"x-large",fontWeight:"700",color:"white"},children:Object(f.jsx)("a",{href:"https://github.com/ragsav/aim-trainer",children:Object(f.jsx)(H.a,{className:"github",style:{fontSize:36}})})})]}),Object(f.jsx)("div",{className:"d-flex flex-column justify-content-center align-items-center w-100 mt-3 container mb-3",children:Object(f.jsx)("div",{className:"w-100 d-flex flex-column justify-content-center align-items-start mt-5",style:{fontSize:"x-large",fontWeight:"700",color:"white"},children:Object(f.jsxs)("div",{className:"w-100 d-flex flex-column align-items-start mt-2",style:{textAlign:"start"},children:[Object(f.jsx)(L,{delay:"0s",url:"challenge",title:"CHALLENGE",desrciption:"In this mode you can practice everything including response time,\r precision, accuracy, speed, with and without moving targets"},1),Object(f.jsx)(L,{delay:"0.1s",url:"gravity",title:"GRAVITY",desrciption:"In this mode you can practice your aim with targets \r being thrown up with the effect of gravity on them,\r and improve everything including response time,\r precision, accuracy, speed, with option to reverse the gravity also"},2),Object(f.jsx)(L,{delay:"0.2s",url:"precision",title:"PRECISION",desrciption:"In this mode you can practice your precision, \r which can help you improve your headshots in the game. In this mode the targets are smaller in size."},3),Object(f.jsx)(L,{delay:"0.3s",url:"response",title:"RESPONSE",desrciption:"In this mode you can practice and improve your response time."},4)]})})})]})},q=function(e){return Object(f.jsxs)("div",{style:{height:e.height,width:e.width},className:"d-flex justify-content-between align-items-center px-5",children:[Object(f.jsxs)("div",{className:"d-flex justify-content-left align-items-center ",style:{fontSize:"x-large",fontWeight:"700",color:"white"},children:[Object(f.jsx)(a.b,{to:"/aim-trainer",children:Object(f.jsx)("img",{src:w,height:30,width:30,className:"mr-3 nav-bar-logo"})}),Object(f.jsx)("span",{className:"nav-bar-title",children:"Response Time"})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-right align-items-center ",style:{fontSize:"large",fontWeight:"700",color:"white"},children:[Object(f.jsx)("span",{className:"mr-3 nav-bar-stat-item",children:"Avg response time : ".concat(e.responseTime)}),Object(f.jsx)(x.a,{className:e.isSoundOn?"ml-5 settings-button":"ml-5 sound-disabled-button",icon:Object(f.jsx)(v.a,{style:{fontSize:20}}),onClick:function(){return e.setIsSoundOn(!e.isSoundOn)}}),Object(f.jsx)(x.a,{className:"ml-3 settings-button",icon:Object(f.jsx)(p.a,{style:{fontSize:20}}),onClick:function(){return e.setIsSettingsOpen(!0)}})]})]})},B=function(e){e.data;return Object(f.jsx)("div",{style:{position:"absolute",width:e.width,height:e.height,backgroundColor:"#FFFFFF26",color:"white",fontSize:"large",fontWeight:"700",zIndex:2},className:"d-flex flex-column justify-content-center align-items-center",children:Object(f.jsxs)("div",{className:"d-flex flex-column justify-content-start align-items-center ",style:{width:300},children:[Object(f.jsx)("div",{className:"mb-2",style:{fontSize:"x-large"},children:"Game over"}),Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4 w-100 mb-3 ",children:[Object(f.jsx)("span",{children:"Response time "}),Object(f.jsx)("span",{children:e.responseTime})]}),Object(f.jsx)("button",{onClick:e.startGame,className:" btn core-button py-2 px-3",children:Object(f.jsxs)("div",{className:"d-flex  justify-content-center align-items-center",children:[Object(f.jsx)(F.a,{style:{fontSize:36}}),Object(f.jsx)("span",{className:"ml-2",children:"RESTART"})]})})]})})},Y=n(220),X=function(e){return Object(f.jsx)(I.a,{centered:!0,visible:e.isSettingsOpen,width:500,title:Object(f.jsxs)("div",{className:"d-flex justify-content-start align-items-center m-0",children:[Object(f.jsx)(p.a,{}),Object(f.jsx)("span",{style:{backgroundColor:"#FFFFFF",color:"rgb(6, 43, 66)",fontSize:"large",fontWeight:"900"},className:"ml-2",children:"SETTINGS"})]}),onCancel:function(){return e.setIsSettingsOpen(!1)},closeIcon:Object(f.jsx)(T.a,{className:"settings-close-button"}),footer:null,children:Object(f.jsx)("div",{className:"d-flex flex-column justify-content-start align-items-center m-0",style:{backgroundColor:"#FFFFFF",color:"rgb(6, 43, 66)",fontSize:"large",fontWeight:"700"},children:Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4 w-100 ",children:[Object(f.jsx)("span",{children:"Target center placement"}),Object(f.jsx)(Y.a,{size:"small",checked:e.isCenterPlacement,onChange:function(t,n){return e.setIsCenterPlacement(t)}})]})})})},K=window.innerWidth<750?10:20;function J(e,t){var n,i;null===e||void 0===e||e.clearRect(0,0,null===t||void 0===t||null===(n=t.current)||void 0===n?void 0:n.clientWidth,null===t||void 0===t||null===(i=t.current)||void 0===i?void 0:i.clientHeight)}window.innerWidth,window.innerHeight;var Q=function(){var e=Object(i.useState)(null),t=Object(o.a)(e,2),n=t[0],s=t[1],c=Object(i.useRef)(null),r=Object(i.useRef)(Date.now()),a=Object(i.useState)(!0),l=Object(o.a)(a,2),u=l[0],d=l[1],j=Object(i.useRef)(null),g=Object(i.useRef)(null),x=Object(i.useRef)(0),w=Object(i.useRef)(!1),v=Object(i.useState)(w.current),p=Object(o.a)(v,2),y=p[0],S=p[1],N=Object(i.useState)(!1),F=Object(o.a)(N,2),R=F[0],k=F[1],C=Object(i.useState)(!1),I=Object(o.a)(C,2),T=I[0],W=I[1],M=Object(i.useState)(!1),D=Object(o.a)(M,2),E=D[0],H=D[1],A=Object(i.useRef)(0),G=Object(i.useState)(0),L=Object(o.a)(G,2),V=L[0],Y=L[1],Q=Object(i.useRef)([]),U=Object(i.useState)(!1),Z=Object(o.a)(U,2),$=Z[0],_=Z[1];function ee(){R||k(!0),J(n,c),S(!0),W(!0),Y(0),A.current=0,x.current=0,Q.current=[],w.current=!0,u&&(g.current.pause(),g.current.currentTime=0,g.current.play())}function te(){J(n,c),S(!1),w.current=!1}function ne(e){if(c&&c.current){var t=20+Math.random()*(c.current.clientWidth-40),n=20+Math.random()*(c.current.clientHeight-40);E&&(t=c.current.clientWidth-40+20,n=c.current.clientHeight-40+20,t/=2,n/=2);new b(t,n,20,e,null,0);A.current=A.current+1}}function ie(e){w.current&&r.current+3e4>Date.now()?(J(n,c),function(e){for(var t=0;t<e.current.length;t++)e.current[t].canDie()&&e.current.splice(t,1)}(Q),0===Q.current.length&&(E&&Math.random()>.993||!E&&Math.random()>.9)&&ne(Q),Q.current.forEach((function(e,t){e.updateCreature(n)})),requestAnimationFrame(ie)):(te(),J(n,c))}return Object(i.useEffect)((function(){$&&y&&te()}),[$]),Object(i.useEffect)((function(){if(c&&c.current){console.log({canvasRef:c});var e=document.getElementById("canvas");e.focus();var t=e.getContext("2d");c.current.focus(),s(t)}}),[c]),Object(i.useEffect)((function(){var e=null;if(n&&y)return console.log("playing...."),W(!0),setTimeout((function(){console.log("started...."),r.current=Date.now(),W(!1),e=requestAnimationFrame(ie)}),5500),function(){e&&cancelAnimationFrame(e)}}),[n,y]),Object(f.jsxs)("div",{style:{height:"100%",width:"100%"},className:"d-flex flex-column",children:[u?Object(f.jsxs)("div",{children:[Object(f.jsx)("audio",{ref:j,src:P}),Object(f.jsx)("audio",{ref:g,src:z})]}):null,Object(f.jsx)(X,{isSettingsOpen:$,setIsSettingsOpen:_,isCenterPlacement:E,setIsCenterPlacement:H}),Object(f.jsx)(q,{height:50,width:window.innerWidth,responseTime:V,setIsSettingsOpen:_,isSoundOn:u,setIsSoundOn:d}),Object(f.jsxs)("div",{style:{height:window.innerHeight-50,width:window.innerWidth,padding:K,position:"relative"},className:"d-flex justify-content-center align-items-center",children:[R?y?null:Object(f.jsx)(B,{width:window.innerWidth-4*K,height:window.innerHeight-90,startGame:ee,responseTime:V}):Object(f.jsx)(O,{width:window.innerWidth-4*K,height:window.innerHeight-90,startGame:ee}),T?Object(f.jsx)(m,{width:window.innerWidth-4*K,height:window.innerHeight-90}):null,Object(f.jsx)("canvas",{style:{position:"absolute"},className:"canvas",onClick:function(e){var t=new h(e.clientX-2*K,e.clientY-70),n=Q.current;u&&(j.current.pause(),j.current.currentTime=0,j.current.play());for(var i=0;i<n.length;i++)if(n[i].pos.subtr(t).mag()<n[i].orignalR&&n[i].isActive){var s=Date.now()-n[i].birth;console.log("before : ",s,"targets : ",A.current);var c=V*(A.current-1);console.log(c),s+=c,s/=A.current,console.log(s),s=Math.round(s),Y(s),n[i].isClicked=!0,n[i].clickedTime=Date.now(),n[i].setClickedRadius(),n[i].clickPos=t}},onKeyDown:function(e){32===e.keyCode&&(console.log("space key pressed"),te())},tabIndex:1,id:"canvas",ref:c,width:window.innerWidth-4*K,height:window.innerHeight-90})]})]})},U=function(e){return Object(f.jsxs)("div",{style:{height:e.height,width:e.width},className:"d-flex justify-content-between align-items-center px-5",children:[Object(f.jsxs)("div",{className:"d-flex justify-content-left align-items-center ",style:{fontSize:"x-large",fontWeight:"700",color:"white"},children:[Object(f.jsx)(a.b,{to:"/aim-trainer",children:Object(f.jsx)("img",{src:w,height:30,width:30,className:"mr-3 nav-bar-logo"})}),Object(f.jsx)("span",{className:"nav-bar-title",children:"Precision"})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-right align-items-center ",style:{fontSize:"large",fontWeight:"700",color:"white"},children:[Object(f.jsx)("span",{className:"mr-3 nav-bar-stat-item",children:"Precision : ".concat(e.precision)}),Object(f.jsx)(x.a,{className:e.isSoundOn?"ml-5 settings-button":"ml-5 sound-disabled-button",icon:Object(f.jsx)(v.a,{style:{fontSize:20}}),onClick:function(){return e.setIsSoundOn(!e.isSoundOn)}}),Object(f.jsx)(x.a,{className:"ml-3 settings-button",icon:Object(f.jsx)(p.a,{style:{fontSize:20}}),onClick:function(){return e.setIsSettingsOpen(!0)}})]})]})},Z=function(e){e.data;return Object(f.jsx)("div",{style:{position:"absolute",width:e.width,height:e.height,backgroundColor:"#FFFFFF26",color:"white",fontSize:"large",fontWeight:"700",zIndex:2},className:"d-flex flex-column justify-content-center align-items-center",children:Object(f.jsxs)("div",{className:"d-flex flex-column justify-content-start align-items-center ",style:{width:300},children:[Object(f.jsx)("div",{className:"mb-2",style:{fontSize:"x-large"},children:"Game over"}),Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4 w-100 mb-1 ",children:[Object(f.jsx)("span",{children:"Precision "}),Object(f.jsx)("span",{children:e.precision})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center w-100 mb-3 ",children:[Object(f.jsx)("span",{children:"Hits "}),Object(f.jsx)("span",{children:e.hits})]}),Object(f.jsx)("button",{onClick:e.startGame,className:" btn core-button py-2 px-3",children:Object(f.jsxs)("div",{className:"d-flex  justify-content-center align-items-center",children:[Object(f.jsx)(F.a,{style:{fontSize:36}}),Object(f.jsx)("span",{className:"ml-2",children:"RESTART"})]})})]})})},$=function(e){return Object(f.jsx)(I.a,{centered:!0,visible:e.isSettingsOpen,width:500,title:Object(f.jsxs)("div",{className:"d-flex justify-content-start align-items-center m-0",children:[Object(f.jsx)(p.a,{}),Object(f.jsx)("span",{style:{backgroundColor:"#FFFFFF",color:"rgb(6, 43, 66)",fontSize:"large",fontWeight:"900"},className:"ml-2",children:"SETTINGS"})]}),onCancel:function(){return e.setIsSettingsOpen(!1)},closeIcon:Object(f.jsx)(T.a,{className:"settings-close-button"}),footer:null,children:Object(f.jsx)("div",{className:"d-flex flex-column justify-content-start align-items-center m-0",style:{backgroundColor:"#FFFFFF",color:"rgb(6, 43, 66)",fontSize:"large",fontWeight:"700"},children:Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4 w-100 ",children:[Object(f.jsx)("span",{children:"Spawning target after "}),Object(f.jsx)(k.a,{style:{width:200},defaultValue:e.speed,onChange:function(t){e.setSpeed(t)},tipFormatter:function(e){return"".concat(e," ms")},step:100,min:100,max:5e3})]})})})},_=window.innerWidth<750?10:20;function ee(e,t){var n,i;null===e||void 0===e||e.clearRect(0,0,null===t||void 0===t||null===(n=t.current)||void 0===n?void 0:n.clientWidth,null===t||void 0===t||null===(i=t.current)||void 0===i?void 0:i.clientHeight)}window.innerWidth,window.innerHeight;var te=function(){var e=Object(i.useState)(null),t=Object(o.a)(e,2),n=t[0],s=t[1],c=Object(i.useRef)(null),r=Object(i.useRef)(Date.now()),a=Object(i.useRef)(Date.now()),l=Object(i.useRef)(0),u=Object(i.useRef)(!1),d=Object(i.useState)(u.current),j=Object(o.a)(d,2),g=j[0],x=j[1],w=Object(i.useState)(!1),v=Object(o.a)(w,2),p=v[0],y=v[1],S=Object(i.useState)(!1),N=Object(o.a)(S,2),F=N[0],R=N[1],k=Object(i.useState)(!1),C=Object(o.a)(k,2),I=(C[0],C[1],Object(i.useState)(0)),T=Object(o.a)(I,2),W=T[0],M=T[1],D=Object(i.useRef)(0),E=Object(i.useState)(1e3),H=Object(o.a)(E,2),A=H[0],G=H[1],L=Object(i.useState)(0),V=Object(o.a)(L,2),q=V[0],B=V[1],Y=Object(i.useRef)([]),X=Object(i.useState)(!0),K=Object(o.a)(X,2),J=K[0],Q=K[1],te=Object(i.useRef)(null),ne=Object(i.useRef)(null),ie=Object(i.useState)(!1),se=Object(o.a)(ie,2),ce=se[0],re=se[1];function ae(){p||y(!0),ee(n,c),x(!0),R(!0),B(0),M(0),D.current=0,a.current=Date.now(),l.current=0,Y.current=[],u.current=!0,J&&(ne.current.pause(),ne.current.currentTime=0,ne.current.play())}function le(){ee(n,c),x(!1),u.current=!1}function oe(e){u.current&&r.current+3e4>Date.now()?(ee(n,c),function(e){for(var t=0;t<e.current.length;t++)e.current[t].canDie()&&e.current.splice(t,1)}(Y),a.current+A<Date.now()&&(!function(e){if(c&&c.current){var t=20+Math.random()*(c.current.clientWidth-40),n=20+Math.random()*(c.current.clientHeight-40);new b(t,n,7,e,null,0),D.current=D.current+1}}(Y),a.current=Date.now()),Y.current.forEach((function(e,t){e.updateCreature(n)})),requestAnimationFrame(oe)):(le(),ee(n,c))}return Object(i.useEffect)((function(){ce&&g&&le()}),[ce]),Object(i.useEffect)((function(){if(c&&c.current){console.log({canvasRef:c});var e=document.getElementById("canvas");e.focus();var t=e.getContext("2d");c.current.focus(),s(t)}}),[c]),Object(i.useEffect)((function(){var e=null;if(n&&g)return console.log("playing...."),R(!0),setTimeout((function(){console.log("started...."),r.current=Date.now(),R(!1),e=requestAnimationFrame(oe)}),5500),function(){e&&cancelAnimationFrame(e)}}),[n,g]),Object(f.jsxs)("div",{style:{height:"100%",width:"100%"},className:"d-flex flex-column",children:[J?Object(f.jsxs)("div",{children:[Object(f.jsx)("audio",{ref:te,src:P}),Object(f.jsx)("audio",{ref:ne,src:z})]}):null,Object(f.jsx)($,{isSettingsOpen:ce,setIsSettingsOpen:re,speed:A,setSpeed:G}),Object(f.jsx)(U,{height:50,width:window.innerWidth,precision:W,setIsSettingsOpen:re,isSoundOn:J,setIsSoundOn:Q}),Object(f.jsxs)("div",{style:{height:window.innerHeight-50,width:window.innerWidth,padding:_,position:"relative"},className:"d-flex justify-content-center align-items-center",children:[p?g?null:Object(f.jsx)(Z,{width:window.innerWidth-4*_,height:window.innerHeight-90,startGame:ae,precision:W,hits:q}):Object(f.jsx)(O,{width:window.innerWidth-4*_,height:window.innerHeight-90,startGame:ae}),F?Object(f.jsx)(m,{width:window.innerWidth-4*_,height:window.innerHeight-90}):null,Object(f.jsx)("canvas",{style:{position:"absolute"},className:"canvas",onClick:function(e){var t=new h(e.clientX-2*_,e.clientY-70);J&&(te.current.pause(),te.current.currentTime=0,te.current.play());for(var n=Y.current,i=0;i<n.length;i++)if(n[i].pos.subtr(t).mag()<n[i].orignalR&&n[i].isActive){var s=W*q,c=100*(n[i].orignalR-t.subtr(n[i].pos).mag())/n[i].orignalR;M(c=(c+s)/(q+1)),B(q+1),n[i].isClicked=!0,n[i].clickedTime=Date.now(),n[i].setClickedRadius(),n[i].clickPos=t}},onKeyDown:function(e){32===e.keyCode&&(console.log("space key pressed"),le())},tabIndex:1,id:"canvas",ref:c,width:window.innerWidth-4*_,height:window.innerHeight-90})]})]})},ne=function(){function e(t,n,i,s,c,r,a){var l,o;Object(u.a)(this,e),this.id=Object(j.a)(),this.r=i,this.speed=a,this.birth=Date.now(),this.pos=new h(t,n),this.clickPos=null,this.isClicked=!1,this.clickedTime=null,this.gravity=a/100*(r?-1:1),this.vel=new h(0,r?2+4*Math.random():-2-4*Math.random()),s.current.push(this),this.isGravityReversed=r,null===c||void 0===c||null===(l=c.current)||void 0===l||null===(o=l.targets)||void 0===o||o.push(this)}return Object(d.a)(e,[{key:"drawTarget",value:function(e){this.isClicked?(e.beginPath(),e.arc(this.pos.x,this.pos.y,this.r,0,2*Math.PI),e.stroke(),e.strokeStyle="#4DFF00",e.lineWidth=2,e.closePath()):(e.beginPath(),e.arc(this.pos.x,this.pos.y,this.r,0,2*Math.PI),e.fillStyle="#FF5100",e.fill(),e.closePath(),e.beginPath(),e.arc(this.pos.x,this.pos.y,3*this.r/4,0,2*Math.PI),e.fillStyle="#FFFFFF",e.fill(),e.closePath(),e.beginPath(),e.arc(this.pos.x,this.pos.y,this.r/2,0,2*Math.PI),e.fillStyle="#FF5100",e.fill(),e.closePath(),e.beginPath(),e.arc(this.pos.x,this.pos.y,1*this.r/4,0,2*Math.PI),e.fillStyle="#FFFFFF",e.fill(),e.closePath())}},{key:"canDie",value:function(e){return this.isClicked&&this.clickedTime+200<Date.now()||!this.isGravityReversed&&this.pos.y>e+20&&this.vel.y>0||this.isGravityReversed&&this.pos.y<-20&&this.vel.y<0}},{key:"reposition",value:function(e){e.canvas;this.vel=new h(0,this.vel.y+this.gravity);var t=this.pos.add(this.vel);this.pos=t}},{key:"updateCreature",value:function(e){this.reposition(e),this.drawTarget(e)}}]),e}(),ie=function(e){return Object(f.jsx)(I.a,{centered:!0,visible:e.isSettingsOpen,width:500,title:Object(f.jsxs)("div",{className:"d-flex justify-content-start align-items-center m-0",children:[Object(f.jsx)(p.a,{}),Object(f.jsx)("span",{style:{backgroundColor:"#FFFFFF",color:"rgb(6, 43, 66)",fontSize:"large",fontWeight:"900"},className:"ml-2",children:"SETTINGS"})]}),onCancel:function(){return e.setIsSettingsOpen(!1)},closeIcon:Object(f.jsx)(T.a,{className:"settings-close-button"}),footer:null,children:Object(f.jsxs)("div",{className:"d-flex flex-column justify-content-start align-items-center m-0",style:{backgroundColor:"#FFFFFF",color:"rgb(6, 43, 66)",fontSize:"large",fontWeight:"700"},children:[Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4 w-100 ",children:[Object(f.jsx)("span",{children:"Spawn rate increase/sec"}),Object(f.jsx)(k.a,{style:{width:200},defaultValue:e.spawnRateIncrease,onChange:function(t){e.setSpawnRateIncrease(t)},step:10,min:0,max:400})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4 w-100 ",children:[Object(f.jsx)("span",{children:"Spawn rate limit"}),Object(f.jsx)(k.a,{style:{width:200},defaultValue:e.spawnRateLimit,onChange:function(t){e.setSpawnRateLimit(t)},step:100,min:100,max:2e3})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4 w-100 ",children:[Object(f.jsx)("span",{children:"Lifes"}),Object(f.jsx)(k.a,{style:{width:200},defaultValue:e.totalLifes,onChange:function(t){e.setTotalLifes(t)},step:1,min:1,max:8})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4 w-100 ",children:[Object(f.jsx)("span",{children:"Reverse gravity"}),Object(f.jsx)(Y.a,{defaultValue:e.isGravityReversed,onChange:function(t){e.setIsGravityReversed(t)}})]})]})})},se=function(e){return Object(f.jsxs)("div",{style:{height:e.height,width:e.width},className:"d-flex justify-content-between align-items-center px-5",children:[Object(f.jsxs)("div",{className:"d-flex justify-content-left align-items-center",style:{fontSize:"x-large",fontWeight:"700",color:"white"},children:[Object(f.jsx)(a.b,{to:"/aim-trainer",children:Object(f.jsx)("img",{src:w,height:30,width:30,className:"mr-3 nav-bar-logo"})}),Object(f.jsx)("span",{className:"nav-bar-title",children:"Gravity"})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-right align-items-center ",style:{fontSize:"large",fontWeight:"700",color:"white"},children:[Object(f.jsx)("div",{className:"nav-bar-stat-item",children:Object(f.jsx)(S,{value:e.lifes,totalLifes:e.totalLifes})}),Object(f.jsx)(x.a,{className:e.isSoundOn?"ml-5 settings-button":"ml-5 sound-disabled-button",icon:Object(f.jsx)(v.a,{style:{fontSize:20}}),onClick:function(){return e.setIsSoundOn(!e.isSoundOn)}}),Object(f.jsx)(x.a,{className:"ml-3 settings-button",icon:Object(f.jsx)(p.a,{style:{fontSize:20}}),onClick:function(){return e.setIsSettingsOpen(!0)}})]})]})},ce=function(e){var t=e.data;if(t){var n,i,s=0,c=0,r=t.targets[0]?t.finishTime-t.targets[0].birth:0,a=0;return t.targets.forEach((function(e){e.birth<t.finishTime&&(s++,e.isClicked&&(c++,a=a+e.clickedTime-e.birth))})),a=0===s?0:a/s,n=0===s?0:c/s*100,i=0===r?0:c/r*1e3,Object(f.jsx)("div",{style:{position:"absolute",width:e.width,height:e.height,backgroundColor:"#FFFFFF00",color:"white",fontSize:"large",fontWeight:"700",zIndex:2},className:"d-flex flex-column justify-content-center align-items-center",children:Object(f.jsxs)("div",{className:"d-flex flex-column justify-content-start align-items-center ",style:{width:300},children:[Object(f.jsx)("div",{className:"mb-2",style:{fontSize:"x-large"},children:"Game over"}),Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4 w-100 ",children:[Object(f.jsx)("span",{children:"Hits"}),Object(f.jsx)("span",{children:c})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-1 w-100",children:[Object(f.jsx)("span",{children:"Miss"}),Object(f.jsx)("span",{children:s-c})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-1 w-100",children:[Object(f.jsx)("span",{children:"Accuracy"}),Object(f.jsxs)("span",{children:[Math.round(100*n)/100," %"]})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-1 w-100",children:[Object(f.jsx)("span",{children:"Avg response time"}),Object(f.jsxs)("span",{children:[Math.round(1e3*a)/1e3," ms"]})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-1 w-100",children:[Object(f.jsx)("span",{children:"Speed"}),Object(f.jsxs)("span",{children:[Math.round(100*i)/100," targets/sec"]})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-1 mb-4 w-100",children:[Object(f.jsx)("span",{children:"Time"}),Object(f.jsxs)("span",{children:[r/1e3," sec"]})]}),Object(f.jsx)("button",{onClick:e.startGame,className:" btn core-button py-2 px-3",children:Object(f.jsxs)("div",{className:"d-flex  justify-content-center align-items-center",children:[Object(f.jsx)(F.a,{style:{fontSize:36}}),Object(f.jsx)("span",{className:"ml-2",children:"RESTART"})]})})]})})}return Object(f.jsx)("div",{})},re=window.innerWidth<750?10:20;function ae(e,t){var n,i;null===e||void 0===e||e.clearRect(0,0,null===t||void 0===t||null===(n=t.current)||void 0===n?void 0:n.clientWidth,null===t||void 0===t||null===(i=t.current)||void 0===i?void 0:i.clientHeight)}window.innerWidth,window.innerHeight;var le=function(){var e=Object(i.useState)(null),t=Object(o.a)(e,2),n=t[0],s=t[1],c=Object(i.useRef)(null),r=Object(i.useRef)(Date.now()),a=Object(i.useState)(5),l=Object(o.a)(a,2),u=l[0],d=l[1],j=Object(i.useState)(u),b=Object(o.a)(j,2),g=b[0],x=b[1],w=Object(i.useRef)(u),v=Object(i.useRef)(0),p=Object(i.useRef)(!1),y=Object(i.useState)(p.current),S=Object(o.a)(y,2),N=S[0],F=S[1],R=Object(i.useState)(!1),k=Object(o.a)(R,2),C=k[0],I=k[1],T=Object(i.useState)(!1),W=Object(o.a)(T,2),M=W[0],D=W[1],E=Object(i.useRef)([]),H=Object(i.useRef)({totalTargets:0,targets:[],finishTime:null}),A=Object(i.useState)(0),G=Object(o.a)(A,2),L=G[0],V=G[1],q=Object(i.useState)(!1),B=Object(o.a)(q,2),Y=B[0],X=B[1],K=Object(i.useState)(1e3),J=Object(o.a)(K,2),Q=J[0],U=J[1],Z=Object(i.useState)(50),$=Object(o.a)(Z,2),_=$[0],ee=$[1],te=Object(i.useState)(!0),le=Object(o.a)(te,2),oe=le[0],ue=le[1],de=Object(i.useRef)(null),he=Object(i.useRef)(null),je=Object(i.useState)(!1),be=Object(o.a)(je,2),fe=be[0],me=be[1];function ge(){C||I(!0),ae(n,c),F(!0),D(!0),x(u),V(0),v.current=0,r.current=Date.now(),w.current=u,E.current=[],p.current=!0,oe&&(he.current.pause(),he.current.currentTime=0,he.current.play())}function Oe(){ae(n,c),H.current.finishTime=Date.now(),F(!1),p.current=!1,console.log(H.current.targets)}function xe(e){if(p.current){ae(n,c),function(e){for(var t=0;t<e.current.length;t++)e.current[t].canDie(c.current.clientHeight)&&(e.current[t].isClicked||(w.current=w.current-1,console.log(w.current),x(w.current),0===w.current&&(Oe(),ae(n,c))),e.current.splice(t,1))}(E);var t=Q;v.current*_<2e3-t&&(t=2e3-v.current*_),Date.now()>r.current+t&&(!function(e){if(c&&c.current){var t=20+Math.random()*(c.current.clientWidth-40),n=fe?-20:c.current.clientHeight+20;new ne(t,n,20,e,H,fe,4),H.current.totalTargets=H.current.totalTargets+1}}(E),r.current=Date.now(),v.current=v.current+1),E.current.forEach((function(e,t){e.updateCreature(n)})),requestAnimationFrame(xe)}else ae(n,c)}return Object(i.useEffect)((function(){Y&&N&&Oe()}),[Y]),Object(i.useEffect)((function(){x(u)}),[u]),Object(i.useEffect)((function(){if(c&&c.current){console.log({canvasRef:c});var e=document.getElementById("canvas");e.focus();var t=e.getContext("2d");c.current.focus(),s(t)}}),[c]),Object(i.useEffect)((function(){var e=null;if(n&&N)return console.log("playing...."),D(!0),setTimeout((function(){console.log("started...."),D(!1),e=requestAnimationFrame(xe)}),5500),function(){e&&cancelAnimationFrame(e)}}),[n,N]),Object(f.jsxs)("div",{style:{height:"100%",width:"100%"},className:"d-flex flex-column",children:[oe?Object(f.jsxs)("div",{children:[Object(f.jsx)("audio",{ref:de,src:P}),Object(f.jsx)("audio",{ref:he,src:z})]}):null,Object(f.jsx)(ie,{isSettingsOpen:Y,setIsSettingsOpen:X,spawnRateLimit:Q,spawnRateIncrease:_,setSpawnRateLimit:U,setSpawnRateIncrease:ee,totalLifes:u,setTotalLifes:d,isGravityReversed:fe,setIsGravityReversed:me}),Object(f.jsx)(se,{lifes:g,hits:L,height:50,width:window.innerWidth,setIsSettingsOpen:X,totalLifes:u,isSoundOn:oe,setIsSoundOn:ue}),Object(f.jsxs)("div",{style:{height:window.innerHeight-50,width:window.innerWidth,padding:re,position:"relative"},className:"d-flex justify-content-center align-items-center",children:[C?N?null:Object(f.jsx)(ce,{width:window.innerWidth-4*re,height:window.innerHeight-90,data:H.current,startGame:ge}):Object(f.jsx)(O,{width:window.innerWidth-4*re,height:window.innerHeight-90,startGame:ge}),M?Object(f.jsx)(m,{width:window.innerWidth-4*re,height:window.innerHeight-90}):null,Object(f.jsx)("canvas",{style:{position:"absolute"},className:"canvas",onClick:function(e){var t=new h(e.clientX-2*re,e.clientY-70);oe&&(de.current.pause(),de.current.currentTime=0,de.current.play());for(var n=E.current,i=0;i<n.length;i++)n[i].pos.subtr(t).mag()<n[i].r&&(V(L+1),n[i].isClicked=!0,n[i].clickedTime=Date.now(),n[i].clickPos=t)},onKeyDown:function(e){32===e.keyCode&&(console.log("space key pressed"),Oe())},tabIndex:1,id:"canvas",ref:c,width:window.innerWidth-4*re,height:window.innerHeight-90})]})]})};var oe=function(){return Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(a.a,{children:Object(f.jsxs)(l.c,{children:[Object(f.jsx)(l.a,{exact:!0,path:"/aim-trainer",children:Object(f.jsx)(V,{})}),Object(f.jsx)(l.a,{exact:!0,path:"/aim-trainer/challenge",children:Object(f.jsx)(E,{})}),Object(f.jsx)(l.a,{exact:!0,path:"/aim-trainer/response",children:Object(f.jsx)(Q,{})}),Object(f.jsx)(l.a,{exact:!0,path:"/aim-trainer/precision",children:Object(f.jsx)(te,{})}),Object(f.jsx)(l.a,{exact:!0,path:"/aim-trainer/gravity",children:Object(f.jsx)(le,{})})]})})})},ue=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,221)).then((function(t){var n=t.getCLS,i=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),i(e),s(e),c(e),r(e)}))};r.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(oe,{})}),document.getElementById("root")),ue()}},[[205,1,2]]]);
//# sourceMappingURL=main.466e46e0.chunk.js.map