(this["webpackJsonpaim-trainer"]=this["webpackJsonpaim-trainer"]||[]).push([[0],{24:function(t,e,i){},25:function(t,e,i){},26:function(t,e,i){},33:function(t,e,i){"use strict";i.r(e);var n=i(0),r=i.n(n),s=i(17),c=i.n(s),a=(i(24),i(18)),h=i(1),o=(i(25),i(15)),l=i(9),u=i(10),d=function(){function t(e,i){Object(l.a)(this,t),this.x=e,this.y=i}return Object(u.a)(t,[{key:"add",value:function(e){return new t(this.x+e.x,this.y+e.y)}},{key:"subtr",value:function(e){return new t(this.x-e.x,this.y-e.y)}},{key:"mag",value:function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))}},{key:"mult",value:function(e){return new t(this.x*e,this.y*e)}},{key:"normal",value:function(){return new t(-this.y,this.x).unit()}},{key:"unit",value:function(){return 0===this.mag()?new t(0,0):new t(this.x/this.mag(),this.y/this.mag())}},{key:"drawVec",value:function(t,e,i,n,r){t.beginPath(),t.moveTo(e,i),t.lineTo(e+this.x*n,i+this.y*n),t.strokeStyle=r,t.stroke(),t.closePath()}}],[{key:"dot",value:function(t,e){return t.x*e.x+t.y*e.y}}]),t}(),f=i(35),v=function(){function t(e,i,n,r,s,c){Object(l.a)(this,t),this.id=Object(f.a)(),this.r=n,this.orignalR=0,this.growth=1,this.dirChangeProp=c,this.speed=s,this.birth=Date.now(),this.pos=new d(e,i),this.isActive=!0,this.isClicked=!1,this.clickedTime=null,this.vel=new d(Math.random(),Math.random()),r.current.push(this)}return Object(u.a)(t,[{key:"drawTarget",value:function(t){this.orignalR<this.r&&1===this.growth&&this.isActive?(this.orignalR=this.orignalR+.15,(this.orignalR===this.r||this.orignalR>this.r)&&(this.growth=-1,this.orignalR=this.r)):this.orignalR>0&&-1===this.growth&&this.isActive&&(this.orignalR=this.orignalR-.1,(0===this.orignalR||this.orignalR<0)&&(this.growth=1,this.orignalR=0)),t.beginPath(),t.arc(this.pos.x,this.pos.y,this.orignalR,0,2*Math.PI),t.fillStyle=this.isActive?"#00FFFF":"#FF5100",this.isClicked?(t.stroke(),t.strokeStyle="#9DFF00",t.lineWidth=2):t.fill(),t.closePath()}},{key:"canDie",value:function(){return!!(this.isClicked&&this.clickedTime+200<Date.now())||this.birth+2500<Date.now()}},{key:"reposition",value:function(t){var e,i=[1,-1],n=Math.floor(2*Math.random()),r=Math.floor(2*Math.random());Math.random()<this.dirChangeProp&&(this.vel=new d(i[n]*Math.random(),i[r]*Math.random()));var s=!1;(e=this.pos.add(this.vel*this.speed)).x+this.r>t.right&&(this.vel=new d(-1*this.vel.x,this.vel.y),s=!0),e.y+this.r>window.bottom&&(this.vel=new d(this.vel.x,-1*this.vel.y),s=!0),e.x<t.left&&(this.vel=new d(-1*this.vel.x,this.vel.y),s=!0),e.y<t.top&&(this.vel=new d(this.vel.x,-1*this.vel.y),s=!0),s&&(e=this.pos.add(this.vel*this.speed)),this.pos=e}},{key:"updateCreature",value:function(t,e){this.birth+2200<Date.now()&&(this.isActive=!1),this.drawTarget(t)}}]),t}(),g=(i(26),i(2));function w(t,e){var i,n;null===t||void 0===t||t.clearRect(0,0,null===e||void 0===e||null===(i=e.current)||void 0===i?void 0:i.clientWidth,null===e||void 0===e||null===(n=e.current)||void 0===n?void 0:n.clientHeight)}var j={left:20,top:120,right:window.innerWidth-20,bottom:window.innerHeight-20},b=function(){var t=Object(n.useState)(null),e=Object(o.a)(t,2),i=e[0],r=e[1],s=Object(n.useRef)(null),c=Object(n.useRef)(Date.now()),a=Object(n.useRef)(0),h=(Object(n.useRef)(.5),Object(n.useRef)(!0)),l=Object(n.useState)(h.current),u=Object(o.a)(l,2),f=u[0],b=u[1],x=Object(n.useRef)([]);function y(t){if(h.current){w(i,s),function(t){for(var e=0;e<t.current.length;e++)t.current[e].canDie()&&t.current.splice(e,1)}(x);var e=800;100*a.current<2e3-e&&(e=2e3-100*a.current),Date.now()>c.current+e&&(!function(t){var e=20+Math.random()*(s.current.clientWidth-40),i=20+Math.random()*(s.current.clientHeight-40);new v(e,i,20,t,1,.5)}(x),c.current=Date.now(),a.current=a.current+1),x.current.forEach((function(t,e){t.updateCreature(i,j)}))}requestAnimationFrame(y)}return Object(n.useEffect)((function(){if(console.log("inside use ref"),s&&s.current){console.log({canvasRef:s});var t=document.getElementById("canvas").getContext("2d");s.current.focus(),r(t)}}),[s]),Object(n.useEffect)((function(){i&&(w(i,s),y())}),[i]),Object(n.useEffect)((function(){f?c.current=Date.now():a.current=0}),[f]),Object(n.useEffect)((function(){var t=null;return console.log(h.current),i&&f&&(t=requestAnimationFrame(y)),function(){t&&cancelAnimationFrame(t)}}),[i,f]),Object(g.jsxs)("div",{style:{height:"100%",width:"100%"},className:"d-flex flex-column",children:[Object(g.jsx)("div",{style:{height:50,width:window.innerWidth},className:"d-flex justify-content-between align-items-center px-4"}),Object(g.jsx)("div",{style:{height:window.innerHeight-50,width:window.innerWidth,padding:20},children:Object(g.jsx)("canvas",{className:"canvas",onClick:function(t){for(var e=new d(t.clientX-20,t.clientY-70),i=x.current,n=0;n<i.length;n++)i[n].pos.subtr(e).mag()<i[n].orignalR&&i[n].isActive&&(i[n].isClicked=!0,i[n].clickedTime=Date.now())},onKeyDown:function(t){32===t.keyCode&&(console.log("space"),h.current=!h.current,b(!f))},tabIndex:1,id:"canvas",ref:s,width:window.innerWidth-40,height:window.innerHeight-90,style:{backgroundColor:"#222222"}})})]})};var x=function(){return Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(a.a,{children:Object(g.jsxs)(h.c,{children:[Object(g.jsx)(h.a,{exact:!0,path:"/",children:Object(g.jsx)(b,{})}),Object(g.jsx)(h.a,{exact:!0,path:"/challenge"}),Object(g.jsx)(h.a,{exact:!0,path:"/precision"}),Object(g.jsx)(h.a,{exact:!0,path:"/double"}),Object(g.jsx)(h.a,{exact:!0,path:"/moving"}),Object(g.jsx)(h.a,{exact:!0,path:"/tracking"})]})})})},y=function(t){t&&t instanceof Function&&i.e(3).then(i.bind(null,36)).then((function(e){var i=e.getCLS,n=e.getFID,r=e.getFCP,s=e.getLCP,c=e.getTTFB;i(t),n(t),r(t),s(t),c(t)}))};c.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(x,{})}),document.getElementById("root")),y()}},[[33,1,2]]]);
//# sourceMappingURL=main.dae05c14.chunk.js.map