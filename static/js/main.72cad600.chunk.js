(this["webpackJsonpaim-trainer"]=this["webpackJsonpaim-trainer"]||[]).push([[0],{111:function(e,t,n){},112:function(e,t,n){},113:function(e,t,n){},187:function(e,t,n){"use strict";n.r(t);var i=n(0),s=n.n(i),c=n(18),a=n.n(c),r=(n(111),n(112),n(25)),l=n(51),o=n(52),h=function(){function e(t,n){Object(l.a)(this,e),this.x=t,this.y=n}return Object(o.a)(e,[{key:"add",value:function(t){return new e(this.x+t.x,this.y+t.y)}},{key:"subtr",value:function(t){return new e(this.x-t.x,this.y-t.y)}},{key:"mag",value:function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))}},{key:"mult",value:function(t){return new e(this.x*t,this.y*t)}},{key:"normal",value:function(){return new e(-this.y,this.x).unit()}},{key:"unit",value:function(){return 0===this.mag()?new e(0,0):new e(this.x/this.mag(),this.y/this.mag())}},{key:"drawVec",value:function(e,t,n,i,s){e.beginPath(),e.moveTo(t,n),e.lineTo(t+this.x*i,n+this.y*i),e.strokeStyle=s,e.stroke(),e.closePath()}}],[{key:"dot",value:function(e,t){return e.x*t.x+e.y*t.y}}]),e}(),u=n(195),d=function(){function e(t,n,i,s,c,a){Object(l.a)(this,e),this.id=Object(u.a)(),this.r=i,this.orignalR=0,this.clickR=i,this.growth=1,this.speed=a,this.birth=Date.now(),this.pos=new h(t,n),this.clickPos=null,this.isActive=!0,this.isClicked=!1,this.clickedTime=null,this.vel=new h(Math.random()*a,Math.random()*a),s.current.push(this),c.current.targets.push(this)}return Object(o.a)(e,[{key:"drawTarget",value:function(e){this.orignalR<this.r&&1===this.growth&&this.isActive?(this.orignalR=this.orignalR+.3,(this.orignalR===this.r||this.orignalR>this.r)&&(this.growth=-1,this.orignalR=this.r)):this.orignalR>0&&-1===this.growth&&this.isActive&&(this.orignalR=this.orignalR-.2,(0===this.orignalR||this.orignalR<0)&&(this.growth=1,this.orignalR=0)),this.isActive?this.isClicked?(e.beginPath(),e.arc(this.pos.x,this.pos.y,this.orignalR,0,2*Math.PI),e.stroke(),e.strokeStyle="#4DFF00",e.lineWidth=2,e.closePath()):(e.beginPath(),e.arc(this.pos.x,this.pos.y,this.orignalR,0,2*Math.PI),e.fillStyle="#FF5100",e.fill(),e.closePath(),e.beginPath(),e.arc(this.pos.x,this.pos.y,3*this.orignalR/4,0,2*Math.PI),e.fillStyle="#FFFFFF",e.fill(),e.closePath(),e.beginPath(),e.arc(this.pos.x,this.pos.y,this.orignalR/2,0,2*Math.PI),e.fillStyle="#FF5100",e.fill(),e.closePath(),e.beginPath(),e.arc(this.pos.x,this.pos.y,1*this.orignalR/4,0,2*Math.PI),e.fillStyle="#FFFFFF",e.fill(),e.closePath()):(e.beginPath(),e.arc(this.pos.x,this.pos.y,this.orignalR,0,2*Math.PI),e.stroke(),e.strokeStyle="#FFFFFF",e.lineWidth=2,e.closePath())}},{key:"canDie",value:function(){return!!(this.isClicked&&this.clickedTime+200<Date.now())||this.birth+2500<Date.now()}},{key:"setClickedRadius",value:function(){this.clickR=this.orignalR}},{key:"reposition",value:function(e){var t,n=e.canvas,i=[1,-1],s=Math.floor(2*Math.random()),c=Math.floor(2*Math.random());Math.random()>.98&&(this.vel=new h(i[s]*Math.random(),i[c]*Math.random()));var a=!1;(t=this.pos.add(this.vel.mult(this.speed))).x+this.r>n.clientWidth&&(this.vel=new h(-1*this.vel.x,this.vel.y),a=!0),t.y+this.r>n.clientHeight&&(this.vel=new h(this.vel.x,-1*this.vel.y),a=!0),t.x+this.r<0&&(this.vel=new h(-1*this.vel.x,this.vel.y),a=!0),t.y+this.r<0&&(this.vel=new h(this.vel.x,-1*this.vel.y),a=!0),a&&(t=this.pos.add(this.vel.mult(this.speed))),this.pos=t}},{key:"updateCreature",value:function(e){this.reposition(e),console.log(e),this.birth+2200<Date.now()&&(this.isActive=!1),this.drawTarget(e)}}]),e}(),j=(n(113),n(3)),f=function(e){var t=Object(i.useState)(5),n=Object(r.a)(t,2),s=n[0],c=n[1];return Object(i.useEffect)((function(){s>0&&setTimeout((function(){c(s-1)}),1e3)}),[s]),Object(j.jsx)("div",{style:{position:"absolute",width:e.width,height:e.height,backgroundColor:"#FFFFFF26",color:"white",fontSize:"large",fontWeight:"700",zIndex:2},className:"d-flex justify-content-center align-items-center",children:Object(j.jsx)("div",{style:{color:"white",fontSize:"large",fontWeight:"700"},children:s})})},b=n(196),g=function(e){return Object(j.jsx)("div",{style:{position:"absolute",width:window.innerWidth-80,height:window.innerHeight-90,backgroundColor:"#FFFFFF26",color:"white",fontSize:"large",fontWeight:"700",zIndex:2},className:"d-flex flex-column justify-content-center align-items-center",children:Object(j.jsx)("button",{onClick:e.startGame,className:" btn core-button py-2 px-3",children:Object(j.jsxs)("div",{className:"d-flex  justify-content-center align-items-center",children:[Object(j.jsx)(b.a,{style:{fontSize:36}}),Object(j.jsx)("span",{className:"ml-2",children:"PLAY"})]})})})},m=n(194),x=n.p+"static/media/aim.28510207.png",w=n(198),O=n(197),p=function(e){var t=new Array(e.totalLifes).fill(1);return Object(j.jsx)("div",{style:{color:"white",fontWeight:"600"},className:"d-flex justify-content-center align-items-end h-100",children:t.map((function(t,n){return Object(j.jsx)("div",{className:"p-1",children:Object(j.jsx)(O.a,{style:{color:n<e.value?"red":"white"}})})}))})},v=function(e){return Object(j.jsxs)("div",{style:{height:e.height,width:e.width},className:"d-flex justify-content-between align-items-center px-5",children:[Object(j.jsxs)("div",{className:"d-flex justify-content-left align-items-center ",style:{fontSize:"x-large",fontWeight:"700",color:"white"},children:[Object(j.jsx)("img",{src:x,height:30,width:30,className:"mr-3"}),Object(j.jsx)("span",{children:"Challenge"})]}),Object(j.jsxs)("div",{className:"d-flex justify-content-right align-items-center ",style:{fontSize:"large",fontWeight:"700",color:"white"},children:[Object(j.jsx)(p,{value:e.lifes,totalLifes:e.totalLifes}),Object(j.jsx)(m.a,{className:"ml-5 settings-button",icon:Object(j.jsx)(w.a,{style:{fontSize:20}}),onClick:function(){return e.setIsSettingsOpen(!0)}})]})]})},y=n(199),F=function(e){var t=e.data;if(t){var n,i,s=0,c=0,a=t.targets[0]?t.finishTime-t.targets[0].birth:0,r=0,l=0;return t.targets.forEach((function(e){e.birth<t.finishTime&&(s++,e.isClicked&&(c++,l=l+e.clickedTime-e.birth,r+=(e.clickR-e.pos.subtr(e.clickPos).mag())/e.clickR))})),l=0===s?0:l/s,r=0===c?0:r/c*100,n=0===s?0:c/s*100,i=0===a?0:c/a*1e3,Object(j.jsx)("div",{style:{position:"absolute",width:e.width,height:e.height,backgroundColor:"#FFFFFF26",color:"white",fontSize:"large",fontWeight:"700",zIndex:2},className:"d-flex flex-column justify-content-center align-items-center",children:Object(j.jsxs)("div",{className:"d-flex flex-column justify-content-start align-items-center ",style:{width:300},children:[Object(j.jsx)("div",{className:"mb-2",style:{fontSize:"x-large"},children:"Game over"}),Object(j.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4 w-100 ",children:[Object(j.jsx)("span",{children:"Hits"}),Object(j.jsx)("span",{children:c})]}),Object(j.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-1 w-100",children:[Object(j.jsx)("span",{children:"Miss"}),Object(j.jsx)("span",{children:s-c})]}),Object(j.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-1 w-100",children:[Object(j.jsx)("span",{children:"Accuracy"}),Object(j.jsxs)("span",{children:[Math.round(100*n)/100," %"]})]}),Object(j.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-1 w-100",children:[Object(j.jsx)("span",{children:"Precision"}),Object(j.jsxs)("span",{children:[Math.round(100*r)/100," %"]})]}),Object(j.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-1 w-100",children:[Object(j.jsx)("span",{children:"Avg response time"}),Object(j.jsxs)("span",{children:[Math.round(1e3*l)/1e3," ms"]})]}),Object(j.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-1 w-100",children:[Object(j.jsx)("span",{children:"Speed"}),Object(j.jsxs)("span",{children:[Math.round(100*i)/100," targets/sec"]})]}),Object(j.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-1 mb-4 w-100",children:[Object(j.jsx)("span",{children:"Time"}),Object(j.jsxs)("span",{children:[a/1e3," sec"]})]}),Object(j.jsx)("button",{onClick:e.startGame,className:" btn core-button py-2 px-3",children:Object(j.jsxs)("div",{className:"d-flex  justify-content-center align-items-center",children:[Object(j.jsx)(y.a,{style:{fontSize:36}}),Object(j.jsx)("span",{className:"ml-2",children:"RESTART"})]})})]})})}return Object(j.jsx)("div",{})},k=n(192),S=n(42),R=n.n(S),N=n(200),C=function(e){return Object(j.jsx)(R.a,{centered:!0,visible:e.isSettingsOpen,width:500,title:Object(j.jsxs)("div",{className:"d-flex justify-content-start align-items-center m-0",children:[Object(j.jsx)(w.a,{}),Object(j.jsx)("span",{style:{backgroundColor:"#FFFFFF",color:"rgb(6, 43, 66)",fontSize:"large",fontWeight:"900"},className:"ml-2",children:"SETTINGS"})]}),onCancel:function(){return e.setIsSettingsOpen(!1)},closeIcon:Object(j.jsx)(N.a,{className:"settings-close-button"}),footer:null,children:Object(j.jsxs)("div",{className:"d-flex flex-column justify-content-start align-items-center m-0",style:{backgroundColor:"#FFFFFF",color:"rgb(6, 43, 66)",fontSize:"large",fontWeight:"700"},children:[Object(j.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4 w-100 ",children:[Object(j.jsx)("span",{children:"Spawn rate increase/sec"}),Object(j.jsx)(k.a,{style:{width:200},defaultValue:e.spawnRateIncrease,onChange:function(t){e.setSpawnRateIncrease(t)},step:10,min:0,max:400})]}),Object(j.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4 w-100 ",children:[Object(j.jsx)("span",{children:"Spawn rate limit"}),Object(j.jsx)(k.a,{style:{width:200},defaultValue:e.spawnRateLimit,onChange:function(t){e.setSpawnRateLimit(t)},step:100,min:100,max:2e3})]}),Object(j.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4 w-100 ",children:[Object(j.jsx)("span",{children:"Lifes"}),Object(j.jsx)(k.a,{style:{width:200},defaultValue:e.totalLifes,onChange:function(t){e.setTotalLifes(t)},step:1,min:1,max:8})]}),Object(j.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4 w-100 ",children:[Object(j.jsx)("span",{children:"Target speed"}),Object(j.jsx)(k.a,{style:{width:200},defaultValue:e.speed,onChange:function(t){e.setSpeed(t)},step:.1,min:0,max:3})]})]})})};function P(e,t){var n,i;null===e||void 0===e||e.clearRect(0,0,null===t||void 0===t||null===(n=t.current)||void 0===n?void 0:n.clientWidth,null===t||void 0===t||null===(i=t.current)||void 0===i?void 0:i.clientHeight)}window.innerWidth,window.innerHeight;var T=function(){var e=Object(i.useState)(null),t=Object(r.a)(e,2),n=t[0],s=t[1],c=Object(i.useRef)(null),a=Object(i.useRef)(Date.now()),l=Object(i.useState)(5),o=Object(r.a)(l,2),u=o[0],b=o[1],m=Object(i.useState)(u),x=Object(r.a)(m,2),w=x[0],O=x[1],p=Object(i.useRef)(u),y=Object(i.useRef)(0),k=Object(i.useState)(1),S=Object(r.a)(k,2),R=S[0],N=S[1],T=Object(i.useRef)(!1),M=Object(i.useState)(T.current),I=Object(r.a)(M,2),W=I[0],L=I[1],z=Object(i.useState)(!1),A=Object(r.a)(z,2),D=A[0],E=A[1],H=Object(i.useState)(!1),G=Object(r.a)(H,2),V=G[0],q=G[1],B=Object(i.useRef)([]),J=Object(i.useRef)({totalTargets:0,targets:[],finishTime:null}),Y=Object(i.useState)(0),K=Object(r.a)(Y,2),X=K[0],Q=K[1],U=Object(i.useState)(!1),Z=Object(r.a)(U,2),$=Z[0],_=Z[1],ee=Object(i.useState)(600),te=Object(r.a)(ee,2),ne=te[0],ie=te[1],se=Object(i.useState)(100),ce=Object(r.a)(se,2),ae=ce[0],re=ce[1];function le(){D||E(!0),P(n,c),L(!0),q(!0),O(u),Q(0),y.current=0,a.current=Date.now(),p.current=u,B.current=[],T.current=!0}function oe(){P(n,c),J.current.finishTime=Date.now(),L(!1),T.current=!1,console.log(J.current.targets)}function he(e){if(T.current){P(n,c),function(e){for(var t=0;t<e.current.length;t++)e.current[t].canDie()&&(e.current[t].isClicked||(p.current=p.current-1,console.log(p.current),O(p.current),0===p.current&&(oe(),P(n,c))),e.current.splice(t,1))}(B);var t=ne;y.current*ae<2e3-t&&(t=2e3-y.current*ae),Date.now()>a.current+t&&(!function(e){if(c&&c.current){var t=20+Math.random()*(c.current.clientWidth-40),n=20+Math.random()*(c.current.clientHeight-40);new d(t,n,20,e,J,R),J.current.totalTargets=J.current.totalTargets+1}}(B),a.current=Date.now(),y.current=y.current+1),B.current.forEach((function(e,t){e.updateCreature(n)})),requestAnimationFrame(he)}else P(n,c)}return Object(i.useEffect)((function(){$&&W&&oe()}),[$]),Object(i.useEffect)((function(){O(u)}),[u]),Object(i.useEffect)((function(){if(c&&c.current){console.log({canvasRef:c});var e=document.getElementById("canvas");e.focus();var t=e.getContext("2d");c.current.focus(),s(t)}}),[c]),Object(i.useEffect)((function(){var e=null;if(n&&W)return console.log("playing...."),q(!0),setTimeout((function(){console.log("started...."),q(!1),e=requestAnimationFrame(he)}),5500),function(){e&&cancelAnimationFrame(e)}}),[n,W]),Object(j.jsxs)("div",{style:{height:"100%",width:"100%"},className:"d-flex flex-column",children:[Object(j.jsx)(C,{isSettingsOpen:$,setIsSettingsOpen:_,spawnRateLimit:ne,spawnRateIncrease:ae,setSpawnRateLimit:ie,setSpawnRateIncrease:re,totalLifes:u,setTotalLifes:b,speed:R,setSpeed:N}),Object(j.jsx)(v,{lifes:w,hits:X,height:50,width:window.innerWidth,setIsSettingsOpen:_,totalLifes:u}),Object(j.jsxs)("div",{style:{height:window.innerHeight-50,width:window.innerWidth,padding:20,position:"relative"},className:"d-flex justify-content-center align-items-center",children:[D?W?null:Object(j.jsx)(F,{width:window.innerWidth-80,height:window.innerHeight-90,data:J.current,startGame:le}):Object(j.jsx)(g,{width:window.innerWidth-80,height:window.innerHeight-90,startGame:le}),V?Object(j.jsx)(f,{width:window.innerWidth-80,height:window.innerHeight-90}):null,Object(j.jsx)("canvas",{style:{position:"absolute"},className:"canvas",onClick:function(e){for(var t=new h(e.clientX-40,e.clientY-70),n=B.current,i=0;i<n.length;i++)n[i].pos.subtr(t).mag()<n[i].orignalR&&n[i].isActive&&(Q(X+1),n[i].isClicked=!0,n[i].clickedTime=Date.now(),n[i].setClickedRadius(),n[i].clickPos=t)},onKeyDown:function(e){32===e.keyCode&&(console.log("space key pressed"),oe())},tabIndex:1,id:"canvas",ref:c,width:window.innerWidth-80,height:window.innerHeight-90})]})]})};n(185);var M=function(){return Object(j.jsx)("div",{className:"App",children:Object(j.jsx)(T,{})})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,201)).then((function(t){var n=t.getCLS,i=t.getFID,s=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),i(e),s(e),c(e),a(e)}))};a.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(M,{})}),document.getElementById("root")),I()}},[[187,1,2]]]);
//# sourceMappingURL=main.72cad600.chunk.js.map