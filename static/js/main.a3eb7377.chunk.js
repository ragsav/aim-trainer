(this["webpackJsonpaim-trainer"]=this["webpackJsonpaim-trainer"]||[]).push([[0],{148:function(e,t,n){},149:function(e,t,n){},224:function(e,t,n){},225:function(e,t,n){},226:function(e,t,n){"use strict";n.r(t);var i=n(0),s=n.n(i),c=n(20),r=n.n(c),a=(n(148),n(24)),l=n(21),o=(n(149),n(8)),d=n(58),u=n(59),h=function(){function e(t,n){Object(d.a)(this,e),this.x=t,this.y=n}return Object(u.a)(e,[{key:"add",value:function(t){return new e(this.x+t.x,this.y+t.y)}},{key:"subtr",value:function(t){return new e(this.x-t.x,this.y-t.y)}},{key:"mag",value:function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))}},{key:"mult",value:function(t){return new e(this.x*t,this.y*t)}},{key:"normal",value:function(){return new e(-this.y,this.x).unit()}},{key:"unit",value:function(){return 0===this.mag()?new e(0,0):new e(this.x/this.mag(),this.y/this.mag())}},{key:"drawVec",value:function(e,t,n,i,s){e.beginPath(),e.moveTo(t,n),e.lineTo(t+this.x*i,n+this.y*i),e.strokeStyle=s,e.stroke(),e.closePath()}}],[{key:"dot",value:function(e,t){return e.x*t.x+e.y*t.y}}]),e}(),j=n(230),m=function(){function e(t,n,i,s,c,r){var a,l;Object(d.a)(this,e),this.id=Object(j.a)(),this.r=i,this.orignalR=0,this.clickR=i,this.growth=1,this.speed=r,this.birth=Date.now(),this.pos=new h(t,n),this.clickPos=null,this.isActive=!0,this.isClicked=!1,this.clickedTime=null,this.vel=new h(Math.random()*r,Math.random()*r),s.current.push(this),null===c||void 0===c||null===(a=c.current)||void 0===a||null===(l=a.targets)||void 0===l||l.push(this)}return Object(u.a)(e,[{key:"drawTarget",value:function(e){this.r>10?this.orignalR<this.r&&1===this.growth&&this.isActive?(this.orignalR=this.orignalR+.3,(this.orignalR===this.r||this.orignalR>this.r)&&(this.growth=-1,this.orignalR=this.r)):this.orignalR>0&&-1===this.growth&&this.isActive&&(this.orignalR=this.orignalR-.2,(0===this.orignalR||this.orignalR<0)&&(this.growth=1,this.orignalR=0)):this.orignalR=this.r,this.isActive?this.isClicked?(e.beginPath(),e.arc(this.pos.x,this.pos.y,this.orignalR,0,2*Math.PI),e.stroke(),e.strokeStyle="#4DFF00",e.lineWidth=2,e.closePath()):(e.beginPath(),e.arc(this.pos.x,this.pos.y,this.orignalR,0,2*Math.PI),e.fillStyle="#FF5100",e.fill(),e.closePath(),e.beginPath(),e.arc(this.pos.x,this.pos.y,3*this.orignalR/4,0,2*Math.PI),e.fillStyle="#FFFFFF",e.fill(),e.closePath(),e.beginPath(),e.arc(this.pos.x,this.pos.y,this.orignalR/2,0,2*Math.PI),e.fillStyle="#FF5100",e.fill(),e.closePath(),e.beginPath(),e.arc(this.pos.x,this.pos.y,1*this.orignalR/4,0,2*Math.PI),e.fillStyle="#FFFFFF",e.fill(),e.closePath()):(e.beginPath(),e.arc(this.pos.x,this.pos.y,this.orignalR,0,2*Math.PI),e.stroke(),e.strokeStyle="#FFFFFF",e.lineWidth=2,e.closePath())}},{key:"canDie",value:function(){return!!(this.isClicked&&this.clickedTime+200<Date.now())||this.birth+2500<Date.now()}},{key:"setClickedRadius",value:function(){this.clickR=this.orignalR}},{key:"reposition",value:function(e){var t,n=e.canvas,i=[1,-1],s=Math.floor(2*Math.random()),c=Math.floor(2*Math.random());Math.random()>.98&&(this.vel=new h(i[s]*Math.random(),i[c]*Math.random()));var r=!1;(t=this.pos.add(this.vel.mult(this.speed))).x+this.r>n.clientWidth&&(this.vel=new h(-1*this.vel.x,this.vel.y),r=!0),t.y+this.r>n.clientHeight&&(this.vel=new h(this.vel.x,-1*this.vel.y),r=!0),t.x+this.r<0&&(this.vel=new h(-1*this.vel.x,this.vel.y),r=!0),t.y+this.r<0&&(this.vel=new h(this.vel.x,-1*this.vel.y),r=!0),r&&(t=this.pos.add(this.vel.mult(this.speed))),this.pos=t}},{key:"updateCreature",value:function(e){this.reposition(e),this.birth+2200<Date.now()&&(this.isActive=!1),this.drawTarget(e)}}]),e}(),b=n(1),f=function(e){var t=Object(i.useState)(5),n=Object(o.a)(t,2),s=n[0],c=n[1];return Object(i.useEffect)((function(){s>0&&setTimeout((function(){c(s-1)}),1e3)}),[s]),Object(b.jsx)("div",{style:{position:"absolute",width:e.width,height:e.height,backgroundColor:"#FFFFFF26",color:"white",fontSize:"large",fontWeight:"700",zIndex:2},className:"d-flex justify-content-center align-items-center",children:Object(b.jsx)("div",{style:{color:"white",fontSize:"10em",fontWeight:"700"},className:"text",children:s})})},g=n(232),O=function(e){return Object(b.jsxs)("div",{style:{position:"absolute",width:e.width,height:e.height,backgroundColor:"#FFFFFF26",color:"white",fontSize:"large",fontWeight:"700",zIndex:2},className:"d-flex flex-column justify-content-center align-items-center",children:[Object(b.jsx)("button",{onClick:e.startGame,className:" btn core-button py-2 px-3",children:Object(b.jsxs)("div",{className:"d-flex  justify-content-center align-items-center",children:[Object(b.jsx)(g.a,{style:{fontSize:36}}),Object(b.jsx)("span",{className:"ml-2",children:"PLAY"})]})}),Object(b.jsx)("span",{style:{fontSize:"small",fontWeight:"500",zIndex:2},className:"mt-4 text",children:"Press (SPACE) or (ESC) to finish training"})]})},x=n(68),v=n.p+"static/media/aim.28510207.png",w=n(234),p=n(235),y=n(233),S=function(e){var t=new Array(e.totalLifes).fill(1);return Object(b.jsx)("div",{style:{color:"white",fontWeight:"600"},className:"d-flex justify-content-center align-items-end h-100 ",children:t.map((function(t,n){return Object(b.jsx)("div",{className:"p-1",children:Object(b.jsx)(y.a,{style:{color:n<e.value?"red":"white"}})})}))})},N=function(e){return Object(b.jsxs)("div",{style:{height:e.height,width:e.width},className:"d-flex justify-content-between align-items-center px-5",children:[Object(b.jsxs)("div",{className:"d-flex justify-content-left align-items-center",style:{fontSize:"x-large",fontWeight:"700",color:"white"},children:[Object(b.jsx)(a.b,{to:"/aim-trainer",children:Object(b.jsx)("img",{src:v,height:30,width:30,className:"mr-3 nav-bar-logo"})}),Object(b.jsx)("span",{className:"nav-bar-title",children:"Challenge"})]}),Object(b.jsxs)("div",{className:"d-flex justify-content-right align-items-center ",style:{fontSize:"large",fontWeight:"700",color:"white"},children:[Object(b.jsx)("div",{className:"nav-bar-stat-item",children:Object(b.jsx)(S,{value:e.lifes,totalLifes:e.totalLifes})}),Object(b.jsx)(x.a,{className:e.isSoundOn?"ml-5 settings-button":"ml-5 sound-disabled-button",icon:Object(b.jsx)(w.a,{style:{fontSize:20}}),onClick:function(){return e.setIsSoundOn(!e.isSoundOn)}}),Object(b.jsx)(x.a,{className:"ml-3 settings-button",icon:Object(b.jsx)(p.a,{style:{fontSize:20}}),onClick:function(){return e.setIsSettingsOpen(!0)}})]})]})},F=n(236),k=s.a.createContext(void 0),C=s.a.createContext(void 0),R="challenge_key",I="gravity_key",T="precision_key",P="response_key",W=function(e){var t=e.children;return Object(b.jsx)(k.Provider,{value:{},children:Object(b.jsx)(C.Provider,{value:{addChallengeScore:function(e){var t,n,i=0,s=0,c=e.targets[0]?e.finishTime-e.targets[0].birth:0,r=0,a=0;e.targets.forEach((function(t){t.birth<e.finishTime&&(i++,t.isClicked&&(s++,a=a+t.clickedTime-t.birth,r+=(t.clickR-t.pos.subtr(t.clickPos).mag())/t.clickR))})),a=0===i?0:a/i,r=0===s?0:r/s*100,t=0===i?0:s/i*100,n=0===c?0:s/c*1e3;var l={timestamp:Date.now(),totalTargets:i,hits:s,time:c,accuracy:t,precision:r,responseTime:a,speed:n},o=JSON.parse(window.localStorage.getItem(R));o?o.push(l):o=[l],window.localStorage.setItem(R,JSON.stringify(o))},addGravityScore:function(e){var t,n,i=0,s=0,c=e.targets[0]?e.finishTime-e.targets[0].birth:0,r=0;e.targets.forEach((function(t){t.birth<e.finishTime&&(i++,t.isClicked&&(s++,r=r+t.clickedTime-t.birth))})),r=0===i?0:r/i,t=0===i?0:s/i*100,n=0===c?0:s/c*1e3;var a={timestamp:Date.now(),totalTargets:i,hits:s,time:c,accuracy:t,responseTime:r,speed:n},l=JSON.parse(window.localStorage.getItem(I));l?l.push(a):l=[a],window.localStorage.setItem(I,JSON.stringify(l))},addPrecisionScore:function(e){var t=JSON.parse(window.localStorage.getItem(T));t?t.push(e):t=[e],window.localStorage.setItem(T,JSON.stringify(t))},addResponseScore:function(e){var t=JSON.parse(window.localStorage.getItem(P));t?t.push(e):t=[e],window.localStorage.setItem(P,JSON.stringify(t))},getChallengeScore:function(){return JSON.parse(window.localStorage.getItem(R))},getGravityScore:function(){return JSON.parse(window.localStorage.getItem(I))},getPrecisionScore:function(){return JSON.parse(window.localStorage.getItem(T))},getResponseScore:function(){return JSON.parse(window.localStorage.getItem(P))},deleteData:function(){window.localStorage.setItem(R,JSON.stringify([])),window.localStorage.setItem(I,JSON.stringify([])),window.localStorage.setItem(P,JSON.stringify([])),window.localStorage.setItem(T,JSON.stringify([]))}},children:t})})},E=function(){var e=s.a.useContext(C);if(void 0===e)throw new Error("useStorageActions must be used within a StorageProvider");return e},D=function(e){var t=e.data;E().addChallengeScore;if(t){var n,i,s=0,c=0,r=t.targets[0]?t.finishTime-t.targets[0].birth:0,a=0,l=0;return t.targets.forEach((function(e){e.birth<t.finishTime&&(s++,e.isClicked&&(c++,l=l+e.clickedTime-e.birth,a+=(e.clickR-e.pos.subtr(e.clickPos).mag())/e.clickR))})),l=0===s?0:l/s,a=0===c?0:a/c*100,n=0===s?0:c/s*100,i=0===r?0:c/r*1e3,Object(b.jsx)("div",{style:{position:"absolute",width:e.width,height:e.height,backgroundColor:"#FFFFFF26",color:"white",fontSize:"large",fontWeight:"700",zIndex:2},className:"d-flex flex-column justify-content-center align-items-center",children:Object(b.jsxs)("div",{className:"d-flex flex-column justify-content-start align-items-center text",style:{width:300},children:[Object(b.jsx)("div",{className:"mb-2",style:{fontSize:"x-large"},children:"Game over"}),Object(b.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4 w-100 ",children:[Object(b.jsx)("span",{children:"Hits"}),Object(b.jsx)("span",{children:c})]}),Object(b.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-1 w-100",children:[Object(b.jsx)("span",{children:"Miss"}),Object(b.jsx)("span",{children:s-c})]}),Object(b.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-1 w-100",children:[Object(b.jsx)("span",{children:"Accuracy"}),Object(b.jsxs)("span",{children:[Math.round(100*n)/100," %"]})]}),Object(b.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-1 w-100",children:[Object(b.jsx)("span",{children:"Precision"}),Object(b.jsxs)("span",{children:[Math.round(100*a)/100," %"]})]}),Object(b.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-1 w-100",children:[Object(b.jsx)("span",{children:"Avg response time"}),Object(b.jsxs)("span",{children:[Math.round(1e3*l)/1e3," ms"]})]}),Object(b.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-1 w-100",children:[Object(b.jsx)("span",{children:"Speed"}),Object(b.jsxs)("span",{children:[Math.round(100*i)/100," targets/sec"]})]}),Object(b.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-1 mb-4 w-100",children:[Object(b.jsx)("span",{children:"Time"}),Object(b.jsxs)("span",{children:[r/1e3," sec"]})]}),Object(b.jsx)("button",{onClick:e.startGame,className:" btn core-button py-2 px-3",children:Object(b.jsxs)("div",{className:"d-flex  justify-content-center align-items-center",children:[Object(b.jsx)(F.a,{style:{fontSize:36}}),Object(b.jsx)("span",{className:"ml-2",children:"RESTART"})]})})]})})}return Object(b.jsx)("div",{})},z=n(228),M=n(29),A=n.n(M),H=n(142),L=function(e){return Object(b.jsx)(A.a,{centered:!0,visible:e.isSettingsOpen,width:500,title:Object(b.jsxs)("div",{className:"d-flex justify-content-start align-items-center m-0",children:[Object(b.jsx)(p.a,{}),Object(b.jsx)("span",{style:{backgroundColor:"#FFFFFF",color:"rgb(6, 43, 66)",fontSize:"large",fontWeight:"900"},className:"ml-2",children:"SETTINGS"})]}),onCancel:function(){return e.setIsSettingsOpen(!1)},closeIcon:Object(b.jsx)(H.a,{className:"settings-close-button"}),footer:null,children:Object(b.jsxs)("div",{className:"d-flex flex-column justify-content-start align-items-center m-0",style:{backgroundColor:"#FFFFFF",color:"rgb(6, 43, 66)",fontSize:"large",fontWeight:"700"},children:[Object(b.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4 w-100 ",children:[Object(b.jsx)("span",{children:"Spawn rate increase/sec"}),Object(b.jsx)(z.a,{style:{width:200},defaultValue:e.spawnRateIncrease,onChange:function(t){e.setSpawnRateIncrease(t)},step:10,min:0,max:400})]}),Object(b.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4 w-100 ",children:[Object(b.jsx)("span",{children:"Spawn rate limit"}),Object(b.jsx)(z.a,{style:{width:200},defaultValue:e.spawnRateLimit,onChange:function(t){e.setSpawnRateLimit(t)},step:100,min:100,max:2e3})]}),Object(b.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4 w-100 ",children:[Object(b.jsx)("span",{children:"Lifes"}),Object(b.jsx)(z.a,{style:{width:200},defaultValue:e.totalLifes,onChange:function(t){e.setTotalLifes(t)},step:1,min:1,max:8})]}),Object(b.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4 w-100 ",children:[Object(b.jsx)("span",{children:"Target speed"}),Object(b.jsx)(z.a,{style:{width:200},defaultValue:e.speed,onChange:function(t){e.setSpeed(t)},step:.1,min:0,max:3})]})]})})},G=n.p+"static/media/shotgun.be7adb98.mp3",V=n.p+"static/media/shotgun-reload.30299b00.mp3",J=window.innerWidth<750?10:20;function q(e,t){var n,i;null===e||void 0===e||e.clearRect(0,0,null===t||void 0===t||null===(n=t.current)||void 0===n?void 0:n.clientWidth,null===t||void 0===t||null===(i=t.current)||void 0===i?void 0:i.clientHeight)}window.innerWidth,window.innerHeight;var B=function(){var e=Object(i.useState)(null),t=Object(o.a)(e,2),n=t[0],s=t[1],c=Object(i.useRef)(null),r=Object(i.useRef)(Date.now()),a=Object(i.useState)(5),l=Object(o.a)(a,2),d=l[0],u=l[1],j=Object(i.useState)(d),g=Object(o.a)(j,2),x=g[0],v=g[1],w=Object(i.useRef)(d),p=Object(i.useRef)(0),y=Object(i.useState)(0),S=Object(o.a)(y,2),F=S[0],k=S[1],C=Object(i.useRef)(!1),R=Object(i.useState)(C.current),I=Object(o.a)(R,2),T=I[0],P=I[1],W=Object(i.useState)(!1),z=Object(o.a)(W,2),M=z[0],A=z[1],H=Object(i.useState)(!1),B=Object(o.a)(H,2),Y=B[0],K=B[1],_=Object(i.useRef)([]),X=Object(i.useRef)({totalTargets:0,targets:[],finishTime:null}),Q=Object(i.useState)(0),U=Object(o.a)(Q,2),Z=U[0],$=U[1],ee=Object(i.useState)(!1),te=Object(o.a)(ee,2),ne=te[0],ie=te[1],se=Object(i.useState)(1e3),ce=Object(o.a)(se,2),re=ce[0],ae=ce[1],le=Object(i.useState)(50),oe=Object(o.a)(le,2),de=oe[0],ue=oe[1],he=Object(i.useState)(!0),je=Object(o.a)(he,2),me=je[0],be=je[1],fe=Object(i.useRef)(null),ge=Object(i.useRef)(null),Oe=E().addChallengeScore;function xe(){M||A(!0),q(n,c),P(!0),K(!0),v(d),$(0),p.current=0,r.current=Date.now(),w.current=d,_.current=[],C.current=!0,me&&(ge.current.pause(),ge.current.currentTime=0,ge.current.play())}function ve(){q(n,c),X.current.finishTime=Date.now(),P(!1),C.current=!1,M&&Oe(X.current)}function we(e){if(C.current){q(n,c),function(e){for(var t=0;t<e.current.length;t++)e.current[t].canDie()&&(e.current[t].isClicked||(w.current=w.current-1,console.log(w.current),v(w.current),0===w.current&&(ve(),q(n,c))),e.current.splice(t,1))}(_);var t=re;p.current*de<2e3-t&&(t=2e3-p.current*de),Date.now()>r.current+t&&(!function(e){if(c&&c.current){var t=20+Math.random()*(c.current.clientWidth-40),n=20+Math.random()*(c.current.clientHeight-40);new m(t,n,20,e,X,F),X.current.totalTargets=X.current.totalTargets+1}}(_),r.current=Date.now(),p.current=p.current+1),_.current.forEach((function(e,t){e.updateCreature(n)})),requestAnimationFrame(we)}else q(n,c)}return Object(i.useEffect)((function(){ne&&T&&ve()}),[ne]),Object(i.useEffect)((function(){v(d)}),[d]),Object(i.useEffect)((function(){if(c&&c.current){console.log({canvasRef:c});var e=document.getElementById("canvas");e.focus();var t=e.getContext("2d");c.current.focus(),s(t)}}),[c]),Object(i.useEffect)((function(){var e=null;if(n&&T)return console.log("playing...."),K(!0),setTimeout((function(){console.log("started...."),K(!1),e=requestAnimationFrame(we)}),5500),function(){e&&cancelAnimationFrame(e)}}),[n,T]),Object(b.jsxs)("div",{onKeyDown:function(e){e.preventDefault(),32!==e.keyCode&&27!==e.keyCode||(console.log("space key pressed"),ve())},style:{height:"100%",width:"100%"},className:"d-flex flex-column",children:[me?Object(b.jsxs)("div",{children:[Object(b.jsx)("audio",{ref:fe,src:G}),Object(b.jsx)("audio",{ref:ge,src:V})]}):null,Object(b.jsx)(L,{isSettingsOpen:ne,setIsSettingsOpen:ie,spawnRateLimit:re,spawnRateIncrease:de,setSpawnRateLimit:ae,setSpawnRateIncrease:ue,totalLifes:d,setTotalLifes:u,speed:F,setSpeed:k}),Object(b.jsx)(N,{lifes:x,hits:Z,height:50,width:window.innerWidth,setIsSettingsOpen:ie,totalLifes:d,isSoundOn:me,setIsSoundOn:be}),Object(b.jsxs)("div",{style:{height:window.innerHeight-50,width:window.innerWidth,padding:J,position:"relative"},className:"d-flex justify-content-center align-items-center",children:[M?T?null:Object(b.jsx)(D,{width:window.innerWidth-4*J,height:window.innerHeight-90,data:X.current,startGame:xe}):Object(b.jsx)(O,{width:window.innerWidth-4*J,height:window.innerHeight-90,startGame:xe}),Y?Object(b.jsx)(f,{width:window.innerWidth-4*J,height:window.innerHeight-90}):null,Object(b.jsx)("canvas",{style:{position:"absolute"},className:"canvas",onClick:function(e){e.preventDefault();var t=new h(e.clientX-2*J,e.clientY-70);me&&(fe.current.pause(),fe.current.currentTime=0,fe.current.play());for(var n=_.current,i=0;i<n.length;i++)n[i].pos.subtr(t).mag()<n[i].orignalR&&n[i].isActive&&($(Z+1),n[i].isClicked=!0,n[i].clickedTime=Date.now(),n[i].setClickedRadius(),n[i].clickPos=t)},tabIndex:1,id:"canvas",ref:c,width:window.innerWidth-4*J,height:window.innerHeight-90})]})]})},Y=(n(223),n(224),n(237)),K=n.p+"static/media/revolver.334fd597.png",_=n.p+"static/media/revolver_light.5626d513.png",X=n.p+"static/media/challenge.babe4f3c.PNG",Q=s.a.createContext(void 0),U=s.a.createContext(void 0),Z=function(e){var t=e.children,n=window.localStorage.getItem("aim-trainer-theme");console.log(n);var s=Object(i.useState)(n||"dark"),c=Object(o.a)(s,2),r=c[0],a=c[1];Object(i.useEffect)((function(){0===(null===r||void 0===r?void 0:r.localeCompare("dark"))?(document.documentElement.style.setProperty("--app-color","#111926"),document.documentElement.style.setProperty("--canvas-color","#182336"),document.documentElement.style.setProperty("--text-color","white"),document.documentElement.style.setProperty("--secondary-color","tomato")):(document.documentElement.style.setProperty("--app-color","white"),document.documentElement.style.setProperty("--canvas-color","#E0E6FF"),document.documentElement.style.setProperty("--text-color","#182336"),document.documentElement.style.setProperty("--secondary-color","tomato"))}),[r]);return Object(b.jsx)(Q.Provider,{value:{theme:r},children:Object(b.jsx)(U.Provider,{value:{setTheme:function(e){a(e),window.localStorage.setItem("aim-trainer-theme",e)}},children:t})})},$=function(){var e=s.a.useContext(Q);if(void 0===e)throw new Error("useThemeState must be used within a ThemeProvider");return e},ee=function(){var e=s.a.useContext(U);if(void 0===e)throw new Error("useThemeActions must be used within a ThemeProvider");return e},te=n(229),ne=function(e){var t=Object(i.useState)(!1),n=Object(o.a)(t,2),s=n[0],c=n[1],r=$().theme;return Object(b.jsxs)("div",{className:"w-100 row m-0 p-0 px-1 mt-4 py-1 pb-2 mode-container bg-animate",onMouseEnter:function(){c(!0)},onMouseLeave:function(){c(!1)},style:{animationDelay:e.delay},children:[Object(b.jsx)("div",{className:" col-md-4 col-lg-3 m-0 p-0 px-2  mt-2  order-md-1 order-2",style:{width:"100%",height:"100%"},children:Object(b.jsx)(a.b,{to:"/aim-trainer/".concat(e.url),children:Object(b.jsx)("img",{src:X,style:{width:"100%",height:"100%",border:0===r.localeCompare("dark")?"2px solid tomato":"2px solid transparent",borderRadius:4,animation:"border-color 1s ease"}})})}),Object(b.jsxs)("div",{className:" col-md-8 col-lg-9 m-0 p-0 w-100 d-flex flex-column align-items-start px-3  order-md-2 order-1",style:{textAlign:"start"},children:[Object(b.jsxs)("div",{className:"d-flex justify-content-start align-items-center w-100",children:[s?Object(b.jsx)("img",{src:0===r.localeCompare("dark")?K:_,style:{height:36,width:36},className:"mr-3"}):null,Object(b.jsx)(a.b,{to:"/aim-trainer/".concat(e.url),className:"link color-animate",children:e.title})]}),Object(b.jsx)("p",{className:"mode-description color-animate",style:{fontSize:"medium",fontWeight:"600"},children:e.desrciption})]})]})},ie=function(e){return Object(b.jsx)(te.a,{centered:!0,width:"min-content",title:"",visible:e.isComingSoonVis,onCancel:function(){e.setIsComingSoonVis(!1)},footer:null,className:"coming-soon-modal",children:Object(b.jsx)("p",{children:"Coming soon..."})})},se=function(e){var t=Object(i.useRef)(null),n=Object(i.useState)(!1),s=Object(o.a)(n,2),c=s[0],r=s[1],l=ee().setTheme,d=$().theme,u=Object(i.useState)(!1),h=Object(o.a)(u,2),j=h[0],m=h[1];return Object(i.useEffect)((function(){c&&t&&t.current&&(console.log("hello"),t.current.pause(),t.current.currentTime=0,t.current.play())}),[c]),Object(b.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center home bg-animate",children:[Object(b.jsx)(ie,{isComingSoonVis:j,setIsComingSoonVis:m}),Object(b.jsx)("audio",{ref:t,src:V}),Object(b.jsxs)("div",{class:"lines-v",children:[Object(b.jsx)("div",{class:"line-v"}),Object(b.jsx)("div",{class:"line-v hide"}),Object(b.jsx)("div",{class:"line-v"}),Object(b.jsx)("div",{class:"line-v hide"}),Object(b.jsx)("div",{class:"line-v"}),Object(b.jsx)("div",{class:"line-v hide"}),Object(b.jsx)("div",{class:"line-v"}),Object(b.jsx)("div",{class:"line-v hide"}),Object(b.jsx)("div",{class:"line-v"})]}),Object(b.jsxs)("div",{class:"lines-h",children:[Object(b.jsx)("div",{class:"line-h"}),Object(b.jsx)("div",{class:"line-h"}),Object(b.jsx)("div",{class:"line-h"}),Object(b.jsx)("div",{class:"line-h"}),Object(b.jsx)("div",{class:"line-h"}),Object(b.jsx)("div",{class:"line-h"}),Object(b.jsx)("div",{class:"line-h"}),Object(b.jsx)("div",{class:"line-h"}),Object(b.jsx)("div",{class:"line-h"})]}),Object(b.jsxs)("div",{className:"d-flex justify-content-between align-items-center w-100 container mt-3",children:[Object(b.jsxs)("div",{className:"d-flex justify-content-start align-items-center w-100 mt-3",style:{fontSize:"x-large",fontWeight:"700"},children:[Object(b.jsx)("img",{src:v,className:"mr-3 logo",onMouseEnter:function(){r(!0)},onMouseLeave:function(){r(!1)}}),Object(b.jsx)("span",{className:"nav-bar-title color-animate",children:"AIM TRAINER"})]}),Object(b.jsxs)("div",{className:"d-flex justify-content-end align-items-center w-100 mt-3",style:{fontSize:"x-large",fontWeight:"700",color:"white"},children:[Object(b.jsx)(a.b,{className:"high-scores h-100 d-flex align-items-end color-animate",onClick:function(e){e.preventDefault(),m(!0)},children:"HIGH SCORES"}),Object(b.jsx)("img",{className:0===d.localeCompare("dark")?"light-theme-logo mx-3":"dark-theme-logo mx-3",onClick:function(e){e.preventDefault(),e.target.classList.add("animate"),setTimeout((function(){return e.target.classList.remove("animate")}),300);var t=!1;e.target.classList.forEach((function(e){0===e.localeCompare("light-theme-logo")&&(l("light"),t=!0)})),t||l("dark"),console.log(e)}}),Object(b.jsx)("a",{href:"https://github.com/ragsav/aim-trainer",className:"d-flex justify-content-center align-items-center",children:Object(b.jsx)(Y.a,{className:"github"})})]})]}),Object(b.jsx)("div",{className:"d-flex flex-column justify-content-center align-items-center w-100 mt-3 container mb-3",children:Object(b.jsx)("div",{className:"w-100 d-flex flex-column justify-content-center align-items-start mt-5",style:{fontSize:"x-large",fontWeight:"700",color:"white"},children:Object(b.jsxs)("div",{className:"w-100 d-flex flex-column align-items-start mt-2",style:{textAlign:"start"},children:[Object(b.jsx)(ne,{delay:"0s",url:"challenge",title:"CHALLENGE",desrciption:"In this mode you can practice everything including response time,\r precision, accuracy, speed, with and without moving targets"},1),Object(b.jsx)(ne,{delay:"0.1s",url:"gravity",title:"GRAVITY",desrciption:"In this mode you can practice your aim with targets \r being thrown up with the effect of gravity on them,\r and improve everything including response time,\r precision, accuracy, speed, with option to reverse the gravity also"},2),Object(b.jsx)(ne,{delay:"0.2s",url:"precision",title:"PRECISION",desrciption:"In this mode you can practice your precision, \r which can help you improve your headshots in the game. In this mode the targets are smaller in size."},3),Object(b.jsx)(ne,{delay:"0.3s",url:"response",title:"RESPONSE",desrciption:"In this mode you can practice and improve your response time."},4)]})})})]})},ce=function(e){return Object(b.jsxs)("div",{style:{height:e.height,width:e.width},className:"d-flex justify-content-between align-items-center px-5",children:[Object(b.jsxs)("div",{className:"d-flex justify-content-left align-items-center ",style:{fontSize:"x-large",fontWeight:"700",color:"white"},children:[Object(b.jsx)(a.b,{to:"/aim-trainer",children:Object(b.jsx)("img",{src:v,height:30,width:30,className:"mr-3 nav-bar-logo"})}),Object(b.jsx)("span",{className:"nav-bar-title",children:"Response Time"})]}),Object(b.jsxs)("div",{className:"d-flex justify-content-right align-items-center ",style:{fontSize:"large",fontWeight:"700",color:"white"},children:[Object(b.jsx)("span",{className:"mr-3 nav-bar-stat-item",children:"Avg response time : ".concat(e.responseTime)}),Object(b.jsx)(x.a,{className:e.isSoundOn?"ml-5 settings-button":"ml-5 sound-disabled-button",icon:Object(b.jsx)(w.a,{style:{fontSize:20}}),onClick:function(){return e.setIsSoundOn(!e.isSoundOn)}}),Object(b.jsx)(x.a,{className:"ml-3 settings-button",icon:Object(b.jsx)(p.a,{style:{fontSize:20}}),onClick:function(){return e.setIsSettingsOpen(!0)}})]})]})},re=function(e){e.data,E().addResponseScore;return Object(b.jsx)("div",{style:{position:"absolute",width:e.width,height:e.height,backgroundColor:"#FFFFFF26",color:"white",fontSize:"large",fontWeight:"700",zIndex:2},className:"d-flex flex-column justify-content-center align-items-center",children:Object(b.jsxs)("div",{className:"d-flex flex-column justify-content-start align-items-center text",style:{width:300},children:[Object(b.jsx)("div",{className:"mb-2",style:{fontSize:"x-large"},children:"Game over"}),Object(b.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4 w-100 mb-3 ",children:[Object(b.jsx)("span",{children:"Response time "}),Object(b.jsx)("span",{children:e.responseTime})]}),Object(b.jsx)("button",{onClick:e.startGame,className:" btn core-button py-2 px-3",children:Object(b.jsxs)("div",{className:"d-flex  justify-content-center align-items-center",children:[Object(b.jsx)(F.a,{style:{fontSize:36}}),Object(b.jsx)("span",{className:"ml-2",children:"RESTART"})]})})]})})},ae=n(231),le=function(e){return Object(b.jsx)(A.a,{centered:!0,visible:e.isSettingsOpen,width:500,title:Object(b.jsxs)("div",{className:"d-flex justify-content-start align-items-center m-0",children:[Object(b.jsx)(p.a,{}),Object(b.jsx)("span",{style:{backgroundColor:"#FFFFFF",color:"rgb(6, 43, 66)",fontSize:"large",fontWeight:"900"},className:"ml-2",children:"SETTINGS"})]}),onCancel:function(){return e.setIsSettingsOpen(!1)},closeIcon:Object(b.jsx)(H.a,{className:"settings-close-button"}),footer:null,children:Object(b.jsx)("div",{className:"d-flex flex-column justify-content-start align-items-center m-0",style:{backgroundColor:"#FFFFFF",color:"rgb(6, 43, 66)",fontSize:"large",fontWeight:"700"},children:Object(b.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4 w-100 ",children:[Object(b.jsx)("span",{children:"Target center placement"}),Object(b.jsx)(ae.a,{size:"small",checked:e.isCenterPlacement,onChange:function(t,n){return e.setIsCenterPlacement(t)}})]})})})},oe=window.innerWidth<750?10:20;function de(e,t){var n,i;null===e||void 0===e||e.clearRect(0,0,null===t||void 0===t||null===(n=t.current)||void 0===n?void 0:n.clientWidth,null===t||void 0===t||null===(i=t.current)||void 0===i?void 0:i.clientHeight)}window.innerWidth,window.innerHeight;var ue=function(){var e=Object(i.useState)(null),t=Object(o.a)(e,2),n=t[0],s=t[1],c=Object(i.useRef)(null),r=Object(i.useRef)(Date.now()),a=Object(i.useState)(!0),l=Object(o.a)(a,2),d=l[0],u=l[1],j=Object(i.useRef)(null),g=Object(i.useRef)(null),x=Object(i.useRef)(0),v=Object(i.useRef)(!1),w=Object(i.useState)(v.current),p=Object(o.a)(w,2),y=p[0],S=p[1],N=Object(i.useState)(!1),F=Object(o.a)(N,2),k=F[0],C=F[1],R=Object(i.useState)(!1),I=Object(o.a)(R,2),T=I[0],P=I[1],W=Object(i.useState)(!1),D=Object(o.a)(W,2),z=D[0],M=D[1],A=Object(i.useRef)(0),H=Object(i.useState)(0),L=Object(o.a)(H,2),J=L[0],q=L[1],B=Object(i.useRef)(0),Y=Object(i.useRef)([]),K=Object(i.useState)(!1),_=Object(o.a)(K,2),X=_[0],Q=_[1],U=E().addResponseScore;function Z(){k||C(!0),de(n,c),S(!0),P(!0),q(0),B.current=0,A.current=0,x.current=0,Y.current=[],v.current=!0,d&&(g.current.pause(),g.current.currentTime=0,g.current.play())}function $(e){if(c&&c.current){var t=20+Math.random()*(c.current.clientWidth-40),n=20+Math.random()*(c.current.clientHeight-40);z&&(t=c.current.clientWidth-40+20,n=c.current.clientHeight-40+20,t/=2,n/=2);new m(t,n,20,e,null,0);A.current=A.current+1}}function ee(e){v.current&&r.current+3e4>Date.now()?(de(n,c),function(e){for(var t=0;t<e.current.length;t++)e.current[t].canDie()&&e.current.splice(t,1)}(Y),0===Y.current.length&&(z&&Math.random()>.993||!z&&Math.random()>.9)&&$(Y),Y.current.forEach((function(e,t){e.updateCreature(n)})),requestAnimationFrame(ee)):(de(n,c),k&&U({timestamp:Date.now(),responseTime:J}),S(!1),v.current=!1,de(n,c))}return Object(i.useEffect)((function(){X&&y&&(S(!1),v.current=!1)}),[X]),Object(i.useEffect)((function(){if(c&&c.current){console.log({canvasRef:c});var e=document.getElementById("canvas");e.focus();var t=e.getContext("2d");c.current.focus(),s(t)}}),[c]),Object(i.useEffect)((function(){var e=null;if(n&&y)return console.log("playing...."),P(!0),setTimeout((function(){console.log("started...."),r.current=Date.now(),P(!1),e=requestAnimationFrame(ee)}),5500),function(){e&&cancelAnimationFrame(e)}}),[n,y]),Object(b.jsxs)("div",{style:{height:"100%",width:"100%"},className:"d-flex flex-column",children:[d?Object(b.jsxs)("div",{children:[Object(b.jsx)("audio",{ref:j,src:G}),Object(b.jsx)("audio",{ref:g,src:V})]}):null,Object(b.jsx)(le,{isSettingsOpen:X,setIsSettingsOpen:Q,isCenterPlacement:z,setIsCenterPlacement:M}),Object(b.jsx)(ce,{height:50,width:window.innerWidth,responseTime:J,setIsSettingsOpen:Q,isSoundOn:d,setIsSoundOn:u}),Object(b.jsxs)("div",{style:{height:window.innerHeight-50,width:window.innerWidth,padding:oe,position:"relative"},className:"d-flex justify-content-center align-items-center",children:[k?y?null:Object(b.jsx)(re,{width:window.innerWidth-4*oe,height:window.innerHeight-90,startGame:Z,responseTime:J}):Object(b.jsx)(O,{width:window.innerWidth-4*oe,height:window.innerHeight-90,startGame:Z}),T?Object(b.jsx)(f,{width:window.innerWidth-4*oe,height:window.innerHeight-90}):null,Object(b.jsx)("canvas",{style:{position:"absolute"},className:"canvas",onClick:function(e){var t=new h(e.clientX-2*oe,e.clientY-70),n=Y.current;d&&(j.current.pause(),j.current.currentTime=0,j.current.play());for(var i=0;i<n.length;i++)if(n[i].pos.subtr(t).mag()<n[i].orignalR&&n[i].isActive){var s=Date.now()-n[i].birth;console.log("before : ",s,"targets : ",A.current);var c=J*(A.current-1);console.log(c),s+=c,s/=A.current,console.log(s),s=Math.round(s),q(s),B.current=s,n[i].isClicked=!0,n[i].clickedTime=Date.now(),n[i].setClickedRadius(),n[i].clickPos=t}},onKeyDown:function(e){32===e.keyCode&&(console.log("space key pressed"),S(!1),v.current=!1)},tabIndex:1,id:"canvas",ref:c,width:window.innerWidth-4*oe,height:window.innerHeight-90})]})]})},he=function(e){return Object(b.jsxs)("div",{style:{height:e.height,width:e.width},className:"d-flex justify-content-between align-items-center px-5",children:[Object(b.jsxs)("div",{className:"d-flex justify-content-left align-items-center ",style:{fontSize:"x-large",fontWeight:"700",color:"white"},children:[Object(b.jsx)(a.b,{to:"/aim-trainer",children:Object(b.jsx)("img",{src:v,height:30,width:30,className:"mr-3 nav-bar-logo"})}),Object(b.jsx)("span",{className:"nav-bar-title",children:"Precision"})]}),Object(b.jsxs)("div",{className:"d-flex justify-content-right align-items-center ",style:{fontSize:"large",fontWeight:"700",color:"white"},children:[Object(b.jsx)("span",{className:"mr-3 nav-bar-stat-item",children:"Precision : ".concat(e.precision)}),Object(b.jsx)(x.a,{className:e.isSoundOn?"ml-5 settings-button":"ml-5 sound-disabled-button",icon:Object(b.jsx)(w.a,{style:{fontSize:20}}),onClick:function(){return e.setIsSoundOn(!e.isSoundOn)}}),Object(b.jsx)(x.a,{className:"ml-3 settings-button",icon:Object(b.jsx)(p.a,{style:{fontSize:20}}),onClick:function(){return e.setIsSettingsOpen(!0)}})]})]})},je=function(e){e.data,E().addPrecisionScore;return Object(b.jsx)("div",{style:{position:"absolute",width:e.width,height:e.height,backgroundColor:"#FFFFFF26",color:"white",fontSize:"large",fontWeight:"700",zIndex:2},className:"d-flex flex-column justify-content-center align-items-center",children:Object(b.jsxs)("div",{className:"d-flex flex-column justify-content-start align-items-center text",style:{width:300},children:[Object(b.jsx)("div",{className:"mb-2",style:{fontSize:"x-large"},children:"Game over"}),Object(b.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4 w-100 mb-1 ",children:[Object(b.jsx)("span",{children:"Precision "}),Object(b.jsx)("span",{children:e.precision})]}),Object(b.jsxs)("div",{className:"d-flex justify-content-between align-items-center w-100 mb-3 ",children:[Object(b.jsx)("span",{children:"Hits "}),Object(b.jsx)("span",{children:e.hits})]}),Object(b.jsx)("button",{onClick:e.startGame,className:" btn core-button py-2 px-3",children:Object(b.jsxs)("div",{className:"d-flex  justify-content-center align-items-center",children:[Object(b.jsx)(F.a,{style:{fontSize:36}}),Object(b.jsx)("span",{className:"ml-2",children:"RESTART"})]})})]})})},me=function(e){return Object(b.jsx)(A.a,{centered:!0,visible:e.isSettingsOpen,width:500,title:Object(b.jsxs)("div",{className:"d-flex justify-content-start align-items-center m-0",children:[Object(b.jsx)(p.a,{}),Object(b.jsx)("span",{style:{backgroundColor:"#FFFFFF",color:"rgb(6, 43, 66)",fontSize:"large",fontWeight:"900"},className:"ml-2",children:"SETTINGS"})]}),onCancel:function(){return e.setIsSettingsOpen(!1)},closeIcon:Object(b.jsx)(H.a,{className:"settings-close-button"}),footer:null,children:Object(b.jsx)("div",{className:"d-flex flex-column justify-content-start align-items-center m-0",style:{backgroundColor:"#FFFFFF",color:"rgb(6, 43, 66)",fontSize:"large",fontWeight:"700"},children:Object(b.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4 w-100 ",children:[Object(b.jsx)("span",{children:"Spawning target after "}),Object(b.jsx)(z.a,{style:{width:200},defaultValue:e.speed,onChange:function(t){e.setSpeed(t)},tipFormatter:function(e){return"".concat(e," ms")},step:100,min:100,max:5e3})]})})})},be=window.innerWidth<750?10:20;function fe(e,t){var n,i;null===e||void 0===e||e.clearRect(0,0,null===t||void 0===t||null===(n=t.current)||void 0===n?void 0:n.clientWidth,null===t||void 0===t||null===(i=t.current)||void 0===i?void 0:i.clientHeight)}window.innerWidth,window.innerHeight;var ge=function(){var e=Object(i.useState)(null),t=Object(o.a)(e,2),n=t[0],s=t[1],c=Object(i.useRef)(null),r=Object(i.useRef)(Date.now()),a=Object(i.useRef)(Date.now()),l=Object(i.useRef)(0),d=Object(i.useRef)(!1),u=Object(i.useState)(d.current),j=Object(o.a)(u,2),g=j[0],x=j[1],v=Object(i.useState)(!1),w=Object(o.a)(v,2),p=w[0],y=w[1],S=Object(i.useState)(!1),N=Object(o.a)(S,2),F=N[0],k=N[1],C=Object(i.useState)(!1),R=Object(o.a)(C,2),I=(R[0],R[1],Object(i.useState)(0)),T=Object(o.a)(I,2),P=T[0],W=T[1],D=Object(i.useRef)(0),z=Object(i.useRef)(0),M=Object(i.useState)(1e3),A=Object(o.a)(M,2),H=A[0],L=A[1],J=Object(i.useState)(0),q=Object(o.a)(J,2),B=q[0],Y=q[1],K=Object(i.useRef)(0),_=Object(i.useRef)([]),X=Object(i.useState)(!0),Q=Object(o.a)(X,2),U=Q[0],Z=Q[1],$=Object(i.useRef)(null),ee=Object(i.useRef)(null),te=Object(i.useState)(!1),ne=Object(o.a)(te,2),ie=ne[0],se=ne[1],ce=E().addPrecisionScore;function re(){p||y(!0),fe(n,c),x(!0),k(!0),Y(0),K.current=0,W(0),D.current=0,z.current=0,a.current=Date.now(),l.current=0,_.current=[],d.current=!0,U&&(ee.current.pause(),ee.current.currentTime=0,ee.current.play())}function ae(e){d.current&&r.current+3e4>Date.now()?(fe(n,c),function(e){for(var t=0;t<e.current.length;t++)e.current[t].canDie()&&e.current.splice(t,1)}(_),a.current+H<Date.now()&&(!function(e){if(c&&c.current){var t=20+Math.random()*(c.current.clientWidth-40),n=20+Math.random()*(c.current.clientHeight-40);new m(t,n,7,e,null,0),z.current=z.current+1}}(_),a.current=Date.now()),_.current.forEach((function(e,t){e.updateCreature(n)})),requestAnimationFrame(ae)):(fe(n,c),p&&ce({timestamp:Date.now(),precision:D.current,hits:K.current}),x(!1),d.current=!1,fe(n,c))}return Object(i.useEffect)((function(){ie&&g&&(x(!1),d.current=!1)}),[ie]),Object(i.useEffect)((function(){if(c&&c.current){console.log({canvasRef:c});var e=document.getElementById("canvas");e.focus();var t=e.getContext("2d");c.current.focus(),s(t)}}),[c]),Object(i.useEffect)((function(){var e=null;if(n&&g)return console.log("playing...."),k(!0),setTimeout((function(){console.log("started...."),r.current=Date.now(),k(!1),e=requestAnimationFrame(ae)}),5500),function(){e&&cancelAnimationFrame(e)}}),[n,g]),Object(b.jsxs)("div",{style:{height:"100%",width:"100%"},className:"d-flex flex-column",children:[U?Object(b.jsxs)("div",{children:[Object(b.jsx)("audio",{ref:$,src:G}),Object(b.jsx)("audio",{ref:ee,src:V})]}):null,Object(b.jsx)(me,{isSettingsOpen:ie,setIsSettingsOpen:se,speed:H,setSpeed:L}),Object(b.jsx)(he,{height:50,width:window.innerWidth,precision:P,setIsSettingsOpen:se,isSoundOn:U,setIsSoundOn:Z}),Object(b.jsxs)("div",{style:{height:window.innerHeight-50,width:window.innerWidth,padding:be,position:"relative"},className:"d-flex justify-content-center align-items-center",children:[p?g?null:Object(b.jsx)(je,{width:window.innerWidth-4*be,height:window.innerHeight-90,startGame:re,precision:P,hits:B}):Object(b.jsx)(O,{width:window.innerWidth-4*be,height:window.innerHeight-90,startGame:re}),F?Object(b.jsx)(f,{width:window.innerWidth-4*be,height:window.innerHeight-90}):null,Object(b.jsx)("canvas",{style:{position:"absolute"},className:"canvas",onClick:function(e){var t=new h(e.clientX-2*be,e.clientY-70);U&&($.current.pause(),$.current.currentTime=0,$.current.play());for(var n=_.current,i=0;i<n.length;i++)if(n[i].pos.subtr(t).mag()<n[i].orignalR&&n[i].isActive){var s=P*B,c=100*(n[i].orignalR-t.subtr(n[i].pos).mag())/n[i].orignalR;c=(c+s)/(B+1),D.current=c,W(c),K.current=B+1,Y(B+1),n[i].isClicked=!0,n[i].clickedTime=Date.now(),n[i].setClickedRadius(),n[i].clickPos=t}},onKeyDown:function(e){32===e.keyCode&&(console.log("space key pressed"),x(!1),d.current=!1)},tabIndex:1,id:"canvas",ref:c,width:window.innerWidth-4*be,height:window.innerHeight-90})]})]})},Oe=function(){function e(t,n,i,s,c,r,a){var l,o;Object(d.a)(this,e),this.id=Object(j.a)(),this.r=i,this.speed=a,this.birth=Date.now(),this.pos=new h(t,n),this.clickPos=null,this.isClicked=!1,this.clickedTime=null,this.gravity=a/100*(r?-1:1),this.vel=new h(0,r?2+4*Math.random():-2-4*Math.random()),s.current.push(this),this.isGravityReversed=r,null===c||void 0===c||null===(l=c.current)||void 0===l||null===(o=l.targets)||void 0===o||o.push(this)}return Object(u.a)(e,[{key:"drawTarget",value:function(e){this.isClicked?(e.beginPath(),e.arc(this.pos.x,this.pos.y,this.r,0,2*Math.PI),e.stroke(),e.strokeStyle="#4DFF00",e.lineWidth=2,e.closePath()):(e.beginPath(),e.arc(this.pos.x,this.pos.y,this.r,0,2*Math.PI),e.fillStyle="#FF5100",e.fill(),e.closePath(),e.beginPath(),e.arc(this.pos.x,this.pos.y,3*this.r/4,0,2*Math.PI),e.fillStyle="#FFFFFF",e.fill(),e.closePath(),e.beginPath(),e.arc(this.pos.x,this.pos.y,this.r/2,0,2*Math.PI),e.fillStyle="#FF5100",e.fill(),e.closePath(),e.beginPath(),e.arc(this.pos.x,this.pos.y,1*this.r/4,0,2*Math.PI),e.fillStyle="#FFFFFF",e.fill(),e.closePath())}},{key:"canDie",value:function(e){return this.isClicked&&this.clickedTime+200<Date.now()||!this.isGravityReversed&&this.pos.y>e+20&&this.vel.y>0||this.isGravityReversed&&this.pos.y<-20&&this.vel.y<0}},{key:"reposition",value:function(e){e.canvas;this.vel=new h(0,this.vel.y+this.gravity);var t=this.pos.add(this.vel);this.pos=t}},{key:"updateCreature",value:function(e){this.reposition(e),this.drawTarget(e)}}]),e}(),xe=function(e){return Object(b.jsx)(A.a,{centered:!0,visible:e.isSettingsOpen,width:500,title:Object(b.jsxs)("div",{className:"d-flex justify-content-start align-items-center m-0",children:[Object(b.jsx)(p.a,{}),Object(b.jsx)("span",{style:{backgroundColor:"#FFFFFF",color:"rgb(6, 43, 66)",fontSize:"large",fontWeight:"900"},className:"ml-2",children:"SETTINGS"})]}),onCancel:function(){return e.setIsSettingsOpen(!1)},closeIcon:Object(b.jsx)(H.a,{className:"settings-close-button"}),footer:null,children:Object(b.jsxs)("div",{className:"d-flex flex-column justify-content-start align-items-center m-0",style:{backgroundColor:"#FFFFFF",color:"rgb(6, 43, 66)",fontSize:"large",fontWeight:"700"},children:[Object(b.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4 w-100 ",children:[Object(b.jsx)("span",{children:"Spawn rate increase/sec"}),Object(b.jsx)(z.a,{style:{width:200},defaultValue:e.spawnRateIncrease,onChange:function(t){e.setSpawnRateIncrease(t)},step:10,min:0,max:400})]}),Object(b.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4 w-100 ",children:[Object(b.jsx)("span",{children:"Spawn rate limit"}),Object(b.jsx)(z.a,{style:{width:200},defaultValue:e.spawnRateLimit,onChange:function(t){e.setSpawnRateLimit(t)},step:100,min:100,max:2e3})]}),Object(b.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4 w-100 ",children:[Object(b.jsx)("span",{children:"Lifes"}),Object(b.jsx)(z.a,{style:{width:200},defaultValue:e.totalLifes,onChange:function(t){e.setTotalLifes(t)},step:1,min:1,max:8})]}),Object(b.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4 w-100 ",children:[Object(b.jsx)("span",{children:"Reverse gravity"}),Object(b.jsx)(ae.a,{defaultValue:e.isGravityReversed,onChange:function(t){e.setIsGravityReversed(t)}})]})]})})},ve=function(e){return Object(b.jsxs)("div",{style:{height:e.height,width:e.width},className:"d-flex justify-content-between align-items-center px-5",children:[Object(b.jsxs)("div",{className:"d-flex justify-content-left align-items-center",style:{fontSize:"x-large",fontWeight:"700",color:"white"},children:[Object(b.jsx)(a.b,{to:"/aim-trainer",children:Object(b.jsx)("img",{src:v,height:30,width:30,className:"mr-3 nav-bar-logo"})}),Object(b.jsx)("span",{className:"nav-bar-title",children:"Gravity"})]}),Object(b.jsxs)("div",{className:"d-flex justify-content-right align-items-center ",style:{fontSize:"large",fontWeight:"700",color:"white"},children:[Object(b.jsx)("div",{className:"nav-bar-stat-item",children:Object(b.jsx)(S,{value:e.lifes,totalLifes:e.totalLifes})}),Object(b.jsx)(x.a,{className:e.isSoundOn?"ml-5 settings-button":"ml-5 sound-disabled-button",icon:Object(b.jsx)(w.a,{style:{fontSize:20}}),onClick:function(){return e.setIsSoundOn(!e.isSoundOn)}}),Object(b.jsx)(x.a,{className:"ml-3 settings-button",icon:Object(b.jsx)(p.a,{style:{fontSize:20}}),onClick:function(){return e.setIsSettingsOpen(!0)}})]})]})},we=function(e){var t=e.data;E().addGravityScore;if(t){var n,i,s=0,c=0,r=t.targets[0]?t.finishTime-t.targets[0].birth:0,a=0;return t.targets.forEach((function(e){e.birth<t.finishTime&&(s++,e.isClicked&&(c++,a=a+e.clickedTime-e.birth))})),a=0===s?0:a/s,n=0===s?0:c/s*100,i=0===r?0:c/r*1e3,Object(b.jsx)("div",{style:{position:"absolute",width:e.width,height:e.height,backgroundColor:"#FFFFFF00",color:"white",fontSize:"large",fontWeight:"700",zIndex:2},className:"d-flex flex-column justify-content-center align-items-center",children:Object(b.jsxs)("div",{className:"d-flex flex-column justify-content-start align-items-center text",style:{width:300},children:[Object(b.jsx)("div",{className:"mb-2",style:{fontSize:"x-large"},children:"Game over"}),Object(b.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4 w-100 ",children:[Object(b.jsx)("span",{children:"Hits"}),Object(b.jsx)("span",{children:c})]}),Object(b.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-1 w-100",children:[Object(b.jsx)("span",{children:"Miss"}),Object(b.jsx)("span",{children:s-c})]}),Object(b.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-1 w-100",children:[Object(b.jsx)("span",{children:"Accuracy"}),Object(b.jsxs)("span",{children:[Math.round(100*n)/100," %"]})]}),Object(b.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-1 w-100",children:[Object(b.jsx)("span",{children:"Avg response time"}),Object(b.jsxs)("span",{children:[Math.round(1e3*a)/1e3," ms"]})]}),Object(b.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-1 w-100",children:[Object(b.jsx)("span",{children:"Speed"}),Object(b.jsxs)("span",{children:[Math.round(100*i)/100," targets/sec"]})]}),Object(b.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-1 mb-4 w-100",children:[Object(b.jsx)("span",{children:"Time"}),Object(b.jsxs)("span",{children:[r/1e3," sec"]})]}),Object(b.jsx)("button",{onClick:e.startGame,className:" btn core-button py-2 px-3",children:Object(b.jsxs)("div",{className:"d-flex  justify-content-center align-items-center",children:[Object(b.jsx)(F.a,{style:{fontSize:36}}),Object(b.jsx)("span",{className:"ml-2",children:"RESTART"})]})})]})})}return Object(b.jsx)("div",{})},pe=window.innerWidth<750?10:20;function ye(e,t){var n,i;null===e||void 0===e||e.clearRect(0,0,null===t||void 0===t||null===(n=t.current)||void 0===n?void 0:n.clientWidth,null===t||void 0===t||null===(i=t.current)||void 0===i?void 0:i.clientHeight)}window.innerWidth,window.innerHeight;var Se=function(){var e=Object(i.useState)(null),t=Object(o.a)(e,2),n=t[0],s=t[1],c=Object(i.useRef)(null),r=Object(i.useRef)(Date.now()),a=Object(i.useState)(5),l=Object(o.a)(a,2),d=l[0],u=l[1],j=Object(i.useState)(d),m=Object(o.a)(j,2),g=m[0],x=m[1],v=Object(i.useRef)(d),w=Object(i.useRef)(0),p=Object(i.useRef)(!1),y=Object(i.useState)(p.current),S=Object(o.a)(y,2),N=S[0],F=S[1],k=Object(i.useState)(!1),C=Object(o.a)(k,2),R=C[0],I=C[1],T=Object(i.useState)(!1),P=Object(o.a)(T,2),W=P[0],D=P[1],z=Object(i.useRef)([]),M=Object(i.useRef)({totalTargets:0,targets:[],finishTime:null}),A=Object(i.useState)(0),H=Object(o.a)(A,2),L=H[0],J=H[1],q=Object(i.useState)(!1),B=Object(o.a)(q,2),Y=B[0],K=B[1],_=Object(i.useState)(1e3),X=Object(o.a)(_,2),Q=X[0],U=X[1],Z=Object(i.useState)(50),$=Object(o.a)(Z,2),ee=$[0],te=$[1],ne=Object(i.useState)(!0),ie=Object(o.a)(ne,2),se=ie[0],ce=ie[1],re=Object(i.useRef)(null),ae=Object(i.useRef)(null),le=Object(i.useState)(!1),oe=Object(o.a)(le,2),de=oe[0],ue=oe[1],he=E().addGravityScore;function je(){R||I(!0),ye(n,c),F(!0),D(!0),x(d),J(0),w.current=0,r.current=Date.now(),v.current=d,z.current=[],p.current=!0,se&&(ae.current.pause(),ae.current.currentTime=0,ae.current.play())}function me(){ye(n,c),M.current.finishTime=Date.now(),F(!1),p.current=!1,R&&he(M.current)}function be(e){if(p.current){ye(n,c),function(e){for(var t=0;t<e.current.length;t++)e.current[t].canDie(c.current.clientHeight)&&(e.current[t].isClicked||(v.current=v.current-1,console.log(v.current),x(v.current),0===v.current&&(me(),ye(n,c))),e.current.splice(t,1))}(z);var t=Q;w.current*ee<2e3-t&&(t=2e3-w.current*ee),Date.now()>r.current+t&&(!function(e){if(c&&c.current){var t=20+Math.random()*(c.current.clientWidth-40),n=de?-20:c.current.clientHeight+20;new Oe(t,n,20,e,M,de,4),M.current.totalTargets=M.current.totalTargets+1}}(z),r.current=Date.now(),w.current=w.current+1),z.current.forEach((function(e,t){e.updateCreature(n)})),requestAnimationFrame(be)}else ye(n,c)}return Object(i.useEffect)((function(){Y&&N&&me()}),[Y]),Object(i.useEffect)((function(){x(d)}),[d]),Object(i.useEffect)((function(){if(c&&c.current){console.log({canvasRef:c});var e=document.getElementById("canvas");e.focus();var t=e.getContext("2d");c.current.focus(),s(t)}}),[c]),Object(i.useEffect)((function(){var e=null;if(n&&N)return console.log("playing...."),D(!0),setTimeout((function(){console.log("started...."),D(!1),e=requestAnimationFrame(be)}),5500),function(){e&&cancelAnimationFrame(e)}}),[n,N]),Object(b.jsxs)("div",{style:{height:"100%",width:"100%"},className:"d-flex flex-column",children:[se?Object(b.jsxs)("div",{children:[Object(b.jsx)("audio",{ref:re,src:G}),Object(b.jsx)("audio",{ref:ae,src:V})]}):null,Object(b.jsx)(xe,{isSettingsOpen:Y,setIsSettingsOpen:K,spawnRateLimit:Q,spawnRateIncrease:ee,setSpawnRateLimit:U,setSpawnRateIncrease:te,totalLifes:d,setTotalLifes:u,isGravityReversed:de,setIsGravityReversed:ue}),Object(b.jsx)(ve,{lifes:g,hits:L,height:50,width:window.innerWidth,setIsSettingsOpen:K,totalLifes:d,isSoundOn:se,setIsSoundOn:ce}),Object(b.jsxs)("div",{style:{height:window.innerHeight-50,width:window.innerWidth,padding:pe,position:"relative"},className:"d-flex justify-content-center align-items-center",children:[R?N?null:Object(b.jsx)(we,{width:window.innerWidth-4*pe,height:window.innerHeight-90,data:M.current,startGame:je}):Object(b.jsx)(O,{width:window.innerWidth-4*pe,height:window.innerHeight-90,startGame:je}),W?Object(b.jsx)(f,{width:window.innerWidth-4*pe,height:window.innerHeight-90}):null,Object(b.jsx)("canvas",{style:{position:"absolute"},className:"canvas",onClick:function(e){var t=new h(e.clientX-2*pe,e.clientY-70);se&&(re.current.pause(),re.current.currentTime=0,re.current.play());for(var n=z.current,i=0;i<n.length;i++)n[i].pos.subtr(t).mag()<n[i].r&&(J(L+1),n[i].isClicked=!0,n[i].clickedTime=Date.now(),n[i].clickPos=t)},onKeyDown:function(e){32===e.keyCode&&(console.log("space key pressed"),me())},tabIndex:1,id:"canvas",ref:c,width:window.innerWidth-4*pe,height:window.innerHeight-90})]})]})},Ne=(n(225),function(e){return Object(b.jsxs)(A.a,{centered:!0,width:"min-content",title:"",visible:e.isConfirmationVisible,onCancel:function(){e.setIsConfirmationVisible(!1)},footer:null,className:"confirmation-modal",children:[Object(b.jsx)("p",{children:"All the data will be deleted"}),Object(b.jsx)("p",{children:"Still want to delete?"}),Object(b.jsxs)("div",{className:"d-flex justify-content-end align-items-center mt-3",children:[Object(b.jsx)(x.a,{className:"mr-2 ",onClick:function(t){t.preventDefault(),e.setIsConfirmationVisible(!1)},children:"OK"}),Object(b.jsx)(x.a,{onClick:function(t){t.preventDefault(),e.setIsConfirmationVisible(!1)},children:"Cancel"})]})]})}),Fe=function(e){var t=E(),n=t.getChallengeScore,s=t.getGravityScore,c=t.getPrecisionScore,r=t.getResponseScore,l=t.deleteData,d=Object(i.useState)(!1),u=Object(o.a)(d,2),h=u[0],j=u[1];console.log({challenge:n()}),console.log({gravity:s()}),console.log({precision:c()}),console.log({response:r()});var m=ee().setTheme,f=$().theme;return Object(b.jsxs)("div",{className:"d-flex flex-column justify-content-between align-items-center scores bg-animate",children:[Object(b.jsx)(Ne,{deleteData:l,isConfirmationVisible:h,setIsConfirmationVisible:j}),Object(b.jsxs)("div",{class:"lines-v",children:[Object(b.jsx)("div",{class:"line-v"}),Object(b.jsx)("div",{class:"line-v hide"}),Object(b.jsx)("div",{class:"line-v"}),Object(b.jsx)("div",{class:"line-v hide"}),Object(b.jsx)("div",{class:"line-v"}),Object(b.jsx)("div",{class:"line-v hide"}),Object(b.jsx)("div",{class:"line-v"}),Object(b.jsx)("div",{class:"line-v hide"}),Object(b.jsx)("div",{class:"line-v"})]}),Object(b.jsxs)("div",{class:"lines-h",children:[Object(b.jsx)("div",{class:"line-h"}),Object(b.jsx)("div",{class:"line-h"}),Object(b.jsx)("div",{class:"line-h"}),Object(b.jsx)("div",{class:"line-h"}),Object(b.jsx)("div",{class:"line-h"}),Object(b.jsx)("div",{class:"line-h"}),Object(b.jsx)("div",{class:"line-h"}),Object(b.jsx)("div",{class:"line-h"}),Object(b.jsx)("div",{class:"line-h"})]}),Object(b.jsxs)("div",{className:"d-flex justify-content-between align-items-center w-100 container mt-3",children:[Object(b.jsx)("div",{className:"d-flex justify-content-start align-items-center w-100 mt-3",style:{fontSize:"x-large",fontWeight:"700"},children:Object(b.jsxs)(a.b,{to:"/aim-trainer/",className:"d-flex justify-content-center align-items-center ",children:[Object(b.jsx)("img",{src:v,className:"mr-3 logo"}),Object(b.jsx)("span",{className:"nav-bar-title color-animate",children:"AIM TRAINER"})]})}),Object(b.jsxs)("div",{className:"d-flex justify-content-end align-items-center w-100 mt-3",style:{fontSize:"x-large",fontWeight:"700",color:"white"},children:[Object(b.jsx)("div",{to:"/aim-trainer/scores",className:"clear-scores h-100 d-flex align-items-end color-animate p-2",onClick:function(e){e.preventDefault(),j(!0)},children:"CLEAR SCORES"}),Object(b.jsx)("img",{className:0===f.localeCompare("dark")?"light-theme-logo mx-3":"dark-theme-logo mx-3",onClick:function(e){e.preventDefault(),e.target.classList.add("animate"),setTimeout((function(){return e.target.classList.remove("animate")}),300);var t=!1;e.target.classList.forEach((function(e){0===e.localeCompare("light-theme-logo")&&(m("light"),t=!0)})),t||m("dark"),console.log(e)}}),Object(b.jsx)("a",{href:"https://github.com/ragsav/aim-trainer",className:"d-flex justify-content-center align-items-center",children:Object(b.jsx)(Y.a,{className:"github"})})]})]}),Object(b.jsx)("div",{className:"d-flex flex-column justify-content-center align-items-center w-100 mt-3 container mb-3"})]})};var ke=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(a.a,{children:Object(b.jsxs)(l.c,{children:[Object(b.jsx)(l.a,{exact:!0,path:"/aim-trainer",children:Object(b.jsx)(se,{})}),Object(b.jsx)(l.a,{exact:!0,path:"/aim-trainer/scores",children:Object(b.jsx)(Fe,{})}),Object(b.jsx)(l.a,{exact:!0,path:"/aim-trainer/challenge",children:Object(b.jsx)(B,{})}),Object(b.jsx)(l.a,{exact:!0,path:"/aim-trainer/response",children:Object(b.jsx)(ue,{})}),Object(b.jsx)(l.a,{exact:!0,path:"/aim-trainer/precision",children:Object(b.jsx)(ge,{})}),Object(b.jsx)(l.a,{exact:!0,path:"/aim-trainer/gravity",children:Object(b.jsx)(Se,{})})]})})})},Ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,238)).then((function(t){var n=t.getCLS,i=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),i(e),s(e),c(e),r(e)}))};r.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(Z,{children:Object(b.jsx)(W,{children:Object(b.jsx)(ke,{})})})}),document.getElementById("root")),Ce()}},[[226,1,2]]]);
//# sourceMappingURL=main.a3eb7377.chunk.js.map