(this["webpackJsonpaim-trainer"]=this["webpackJsonpaim-trainer"]||[]).push([[0],{127:function(e,t,n){},128:function(e,t,n){},129:function(e,t,n){},201:function(e,t,n){},205:function(e,t,n){},206:function(e,t,n){},207:function(e,t,n){"use strict";n.r(t);var i=n(0),s=n.n(i),c=n(20),r=n.n(c),a=(n(127),n(49)),l=n(19),o=(n(128),n(10)),u=n(61),h=n(62),d=function(){function e(t,n){Object(u.a)(this,e),this.x=t,this.y=n}return Object(h.a)(e,[{key:"add",value:function(t){return new e(this.x+t.x,this.y+t.y)}},{key:"subtr",value:function(t){return new e(this.x-t.x,this.y-t.y)}},{key:"mag",value:function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))}},{key:"mult",value:function(t){return new e(this.x*t,this.y*t)}},{key:"normal",value:function(){return new e(-this.y,this.x).unit()}},{key:"unit",value:function(){return 0===this.mag()?new e(0,0):new e(this.x/this.mag(),this.y/this.mag())}},{key:"drawVec",value:function(e,t,n,i,s){e.beginPath(),e.moveTo(t,n),e.lineTo(t+this.x*i,n+this.y*i),e.strokeStyle=s,e.stroke(),e.closePath()}}],[{key:"dot",value:function(e,t){return e.x*t.x+e.y*t.y}}]),e}(),j=n(214),b=function(){function e(t,n,i,s,c,r){var a,l;Object(u.a)(this,e),this.id=Object(j.a)(),this.r=i,this.orignalR=0,this.clickR=i,this.growth=1,this.speed=r,this.birth=Date.now(),this.pos=new d(t,n),this.clickPos=null,this.isActive=!0,this.isClicked=!1,this.clickedTime=null,this.vel=new d(Math.random()*r,Math.random()*r),s.current.push(this),null===c||void 0===c||null===(a=c.current)||void 0===a||null===(l=a.targets)||void 0===l||l.push(this)}return Object(h.a)(e,[{key:"drawTarget",value:function(e){this.r>10?this.orignalR<this.r&&1===this.growth&&this.isActive?(this.orignalR=this.orignalR+.3,(this.orignalR===this.r||this.orignalR>this.r)&&(this.growth=-1,this.orignalR=this.r)):this.orignalR>0&&-1===this.growth&&this.isActive&&(this.orignalR=this.orignalR-.2,(0===this.orignalR||this.orignalR<0)&&(this.growth=1,this.orignalR=0)):this.orignalR=this.r,this.isActive?this.isClicked?(e.beginPath(),e.arc(this.pos.x,this.pos.y,this.orignalR,0,2*Math.PI),e.stroke(),e.strokeStyle="#4DFF00",e.lineWidth=2,e.closePath()):(e.beginPath(),e.arc(this.pos.x,this.pos.y,this.orignalR,0,2*Math.PI),e.fillStyle="#FF5100",e.fill(),e.closePath(),e.beginPath(),e.arc(this.pos.x,this.pos.y,3*this.orignalR/4,0,2*Math.PI),e.fillStyle="#FFFFFF",e.fill(),e.closePath(),e.beginPath(),e.arc(this.pos.x,this.pos.y,this.orignalR/2,0,2*Math.PI),e.fillStyle="#FF5100",e.fill(),e.closePath(),e.beginPath(),e.arc(this.pos.x,this.pos.y,1*this.orignalR/4,0,2*Math.PI),e.fillStyle="#FFFFFF",e.fill(),e.closePath()):(e.beginPath(),e.arc(this.pos.x,this.pos.y,this.orignalR,0,2*Math.PI),e.stroke(),e.strokeStyle="#FFFFFF",e.lineWidth=2,e.closePath())}},{key:"canDie",value:function(){return!!(this.isClicked&&this.clickedTime+200<Date.now())||this.birth+2500<Date.now()}},{key:"setClickedRadius",value:function(){this.clickR=this.orignalR}},{key:"reposition",value:function(e){var t,n=e.canvas,i=[1,-1],s=Math.floor(2*Math.random()),c=Math.floor(2*Math.random());Math.random()>.98&&(this.vel=new d(i[s]*Math.random(),i[c]*Math.random()));var r=!1;(t=this.pos.add(this.vel.mult(this.speed))).x+this.r>n.clientWidth&&(this.vel=new d(-1*this.vel.x,this.vel.y),r=!0),t.y+this.r>n.clientHeight&&(this.vel=new d(this.vel.x,-1*this.vel.y),r=!0),t.x+this.r<0&&(this.vel=new d(-1*this.vel.x,this.vel.y),r=!0),t.y+this.r<0&&(this.vel=new d(this.vel.x,-1*this.vel.y),r=!0),r&&(t=this.pos.add(this.vel.mult(this.speed))),this.pos=t}},{key:"updateCreature",value:function(e){this.reposition(e),this.birth+2200<Date.now()&&(this.isActive=!1),this.drawTarget(e)}}]),e}(),f=(n(129),n(1)),m=function(e){var t=Object(i.useState)(5),n=Object(o.a)(t,2),s=n[0],c=n[1];return Object(i.useEffect)((function(){s>0&&setTimeout((function(){c(s-1)}),1e3)}),[s]),Object(f.jsx)("div",{style:{position:"absolute",width:e.width,height:e.height,backgroundColor:"#FFFFFF26",color:"white",fontSize:"large",fontWeight:"700",zIndex:2},className:"d-flex justify-content-center align-items-center",children:Object(f.jsx)("div",{style:{color:"white",fontSize:"large",fontWeight:"700"},children:s})})},g=n(216),O=function(e){return Object(f.jsx)("div",{style:{position:"absolute",width:window.innerWidth-80,height:window.innerHeight-90,backgroundColor:"#FFFFFF26",color:"white",fontSize:"large",fontWeight:"700",zIndex:2},className:"d-flex flex-column justify-content-center align-items-center",children:Object(f.jsx)("button",{onClick:e.startGame,className:" btn core-button py-2 px-3",children:Object(f.jsxs)("div",{className:"d-flex  justify-content-center align-items-center",children:[Object(f.jsx)(g.a,{style:{fontSize:36}}),Object(f.jsx)("span",{className:"ml-2",children:"PLAY"})]})})})},x=n(215),w=n.p+"static/media/aim.28510207.png",v=n(218),p=n(219),y=n(217),S=function(e){var t=new Array(e.totalLifes).fill(1);return Object(f.jsx)("div",{style:{color:"white",fontWeight:"600"},className:"d-flex justify-content-center align-items-end h-100 ",children:t.map((function(t,n){return Object(f.jsx)("div",{className:"p-1",children:Object(f.jsx)(y.a,{style:{color:n<e.value?"red":"white"}})})}))})},F=function(e){return Object(f.jsxs)("div",{style:{height:e.height,width:e.width},className:"d-flex justify-content-between align-items-center px-5",children:[Object(f.jsxs)("div",{className:"d-flex justify-content-left align-items-center",style:{fontSize:"x-large",fontWeight:"700",color:"white"},children:[Object(f.jsx)("img",{src:w,height:30,width:30,className:"mr-3 nav-bar-logo"}),Object(f.jsx)("span",{className:"nav-bar-title",children:"Challenge"})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-right align-items-center ",style:{fontSize:"large",fontWeight:"700",color:"white"},children:[Object(f.jsx)("div",{className:"nav-bar-stat-item",children:Object(f.jsx)(S,{value:e.lifes,totalLifes:e.totalLifes})}),Object(f.jsx)(x.a,{className:e.isSoundOn?"ml-5 settings-button":"ml-5 sound-disabled-button",icon:Object(f.jsx)(v.a,{style:{fontSize:20}}),onClick:function(){return e.setIsSoundOn(!e.isSoundOn)}}),Object(f.jsx)(x.a,{className:"ml-3 settings-button",icon:Object(f.jsx)(p.a,{style:{fontSize:20}}),onClick:function(){return e.setIsSettingsOpen(!0)}})]})]})},N=n(220),R=function(e){var t=e.data;if(t){var n,i,s=0,c=0,r=t.targets[0]?t.finishTime-t.targets[0].birth:0,a=0,l=0;return t.targets.forEach((function(e){e.birth<t.finishTime&&(s++,e.isClicked&&(c++,l=l+e.clickedTime-e.birth,a+=(e.clickR-e.pos.subtr(e.clickPos).mag())/e.clickR))})),l=0===s?0:l/s,a=0===c?0:a/c*100,n=0===s?0:c/s*100,i=0===r?0:c/r*1e3,Object(f.jsx)("div",{style:{position:"absolute",width:e.width,height:e.height,backgroundColor:"#FFFFFF26",color:"white",fontSize:"large",fontWeight:"700",zIndex:2},className:"d-flex flex-column justify-content-center align-items-center",children:Object(f.jsxs)("div",{className:"d-flex flex-column justify-content-start align-items-center ",style:{width:300},children:[Object(f.jsx)("div",{className:"mb-2",style:{fontSize:"x-large"},children:"Game over"}),Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4 w-100 ",children:[Object(f.jsx)("span",{children:"Hits"}),Object(f.jsx)("span",{children:c})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-1 w-100",children:[Object(f.jsx)("span",{children:"Miss"}),Object(f.jsx)("span",{children:s-c})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-1 w-100",children:[Object(f.jsx)("span",{children:"Accuracy"}),Object(f.jsxs)("span",{children:[Math.round(100*n)/100," %"]})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-1 w-100",children:[Object(f.jsx)("span",{children:"Precision"}),Object(f.jsxs)("span",{children:[Math.round(100*a)/100," %"]})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-1 w-100",children:[Object(f.jsx)("span",{children:"Avg response time"}),Object(f.jsxs)("span",{children:[Math.round(1e3*l)/1e3," ms"]})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-1 w-100",children:[Object(f.jsx)("span",{children:"Speed"}),Object(f.jsxs)("span",{children:[Math.round(100*i)/100," targets/sec"]})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-1 mb-4 w-100",children:[Object(f.jsx)("span",{children:"Time"}),Object(f.jsxs)("span",{children:[r/1e3," sec"]})]}),Object(f.jsx)("button",{onClick:e.startGame,className:" btn core-button py-2 px-3",children:Object(f.jsxs)("div",{className:"d-flex  justify-content-center align-items-center",children:[Object(f.jsx)(N.a,{style:{fontSize:36}}),Object(f.jsx)("span",{className:"ml-2",children:"RESTART"})]})})]})})}return Object(f.jsx)("div",{})},k=n(212),C=n(36),W=n.n(C),T=n(221),I=function(e){return Object(f.jsx)(W.a,{centered:!0,visible:e.isSettingsOpen,width:500,title:Object(f.jsxs)("div",{className:"d-flex justify-content-start align-items-center m-0",children:[Object(f.jsx)(p.a,{}),Object(f.jsx)("span",{style:{backgroundColor:"#FFFFFF",color:"rgb(6, 43, 66)",fontSize:"large",fontWeight:"900"},className:"ml-2",children:"SETTINGS"})]}),onCancel:function(){return e.setIsSettingsOpen(!1)},closeIcon:Object(f.jsx)(T.a,{className:"settings-close-button"}),footer:null,children:Object(f.jsxs)("div",{className:"d-flex flex-column justify-content-start align-items-center m-0",style:{backgroundColor:"#FFFFFF",color:"rgb(6, 43, 66)",fontSize:"large",fontWeight:"700"},children:[Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4 w-100 ",children:[Object(f.jsx)("span",{children:"Spawn rate increase/sec"}),Object(f.jsx)(k.a,{style:{width:200},defaultValue:e.spawnRateIncrease,onChange:function(t){e.setSpawnRateIncrease(t)},step:10,min:0,max:400})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4 w-100 ",children:[Object(f.jsx)("span",{children:"Spawn rate limit"}),Object(f.jsx)(k.a,{style:{width:200},defaultValue:e.spawnRateLimit,onChange:function(t){e.setSpawnRateLimit(t)},step:100,min:100,max:2e3})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4 w-100 ",children:[Object(f.jsx)("span",{children:"Lifes"}),Object(f.jsx)(k.a,{style:{width:200},defaultValue:e.totalLifes,onChange:function(t){e.setTotalLifes(t)},step:1,min:1,max:8})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4 w-100 ",children:[Object(f.jsx)("span",{children:"Target speed"}),Object(f.jsx)(k.a,{style:{width:200},defaultValue:e.speed,onChange:function(t){e.setSpeed(t)},step:.1,min:0,max:3})]})]})})},z=n.p+"static/media/shotgun.be7adb98.mp3",P=n.p+"static/media/shotgun-reload.30299b00.mp3";function M(e,t){var n,i;null===e||void 0===e||e.clearRect(0,0,null===t||void 0===t||null===(n=t.current)||void 0===n?void 0:n.clientWidth,null===t||void 0===t||null===(i=t.current)||void 0===i?void 0:i.clientHeight)}window.innerWidth,window.innerHeight;var D=function(){var e=Object(i.useState)(null),t=Object(o.a)(e,2),n=t[0],s=t[1],c=Object(i.useRef)(null),r=Object(i.useRef)(Date.now()),a=Object(i.useState)(5),l=Object(o.a)(a,2),u=l[0],h=l[1],j=Object(i.useState)(u),g=Object(o.a)(j,2),x=g[0],w=g[1],v=Object(i.useRef)(u),p=Object(i.useRef)(0),y=Object(i.useState)(0),S=Object(o.a)(y,2),N=S[0],k=S[1],C=Object(i.useRef)(!1),W=Object(i.useState)(C.current),T=Object(o.a)(W,2),D=T[0],H=T[1],A=Object(i.useState)(!1),E=Object(o.a)(A,2),G=E[0],L=E[1],q=Object(i.useState)(!1),V=Object(o.a)(q,2),B=V[0],Y=V[1],K=Object(i.useRef)([]),X=Object(i.useRef)({totalTargets:0,targets:[],finishTime:null}),J=Object(i.useState)(0),Q=Object(o.a)(J,2),U=Q[0],Z=Q[1],$=Object(i.useState)(!1),_=Object(o.a)($,2),ee=_[0],te=_[1],ne=Object(i.useState)(1e3),ie=Object(o.a)(ne,2),se=ie[0],ce=ie[1],re=Object(i.useState)(50),ae=Object(o.a)(re,2),le=ae[0],oe=ae[1],ue=Object(i.useState)(!0),he=Object(o.a)(ue,2),de=he[0],je=he[1],be=Object(i.useRef)(null),fe=Object(i.useRef)(null);function me(){G||L(!0),M(n,c),H(!0),Y(!0),w(u),Z(0),p.current=0,r.current=Date.now(),v.current=u,K.current=[],C.current=!0,de&&(fe.current.pause(),fe.current.currentTime=0,fe.current.play())}function ge(){M(n,c),X.current.finishTime=Date.now(),H(!1),C.current=!1,console.log(X.current.targets)}function Oe(e){if(C.current){M(n,c),function(e){for(var t=0;t<e.current.length;t++)e.current[t].canDie()&&(e.current[t].isClicked||(v.current=v.current-1,console.log(v.current),w(v.current),0===v.current&&(ge(),M(n,c))),e.current.splice(t,1))}(K);var t=se;p.current*le<2e3-t&&(t=2e3-p.current*le),Date.now()>r.current+t&&(!function(e){if(c&&c.current){var t=20+Math.random()*(c.current.clientWidth-40),n=20+Math.random()*(c.current.clientHeight-40);new b(t,n,20,e,X,N),X.current.totalTargets=X.current.totalTargets+1}}(K),r.current=Date.now(),p.current=p.current+1),K.current.forEach((function(e,t){e.updateCreature(n)})),requestAnimationFrame(Oe)}else M(n,c)}return Object(i.useEffect)((function(){ee&&D&&ge()}),[ee]),Object(i.useEffect)((function(){w(u)}),[u]),Object(i.useEffect)((function(){if(c&&c.current){console.log({canvasRef:c});var e=document.getElementById("canvas");e.focus();var t=e.getContext("2d");c.current.focus(),s(t)}}),[c]),Object(i.useEffect)((function(){var e=null;if(n&&D)return console.log("playing...."),Y(!0),setTimeout((function(){console.log("started...."),Y(!1),e=requestAnimationFrame(Oe)}),5500),function(){e&&cancelAnimationFrame(e)}}),[n,D]),Object(f.jsxs)("div",{style:{height:"100%",width:"100%"},className:"d-flex flex-column",children:[de?Object(f.jsxs)("div",{children:[Object(f.jsx)("audio",{ref:be,src:z}),Object(f.jsx)("audio",{ref:fe,src:P})]}):null,Object(f.jsx)(I,{isSettingsOpen:ee,setIsSettingsOpen:te,spawnRateLimit:se,spawnRateIncrease:le,setSpawnRateLimit:ce,setSpawnRateIncrease:oe,totalLifes:u,setTotalLifes:h,speed:N,setSpeed:k}),Object(f.jsx)(F,{lifes:x,hits:U,height:50,width:window.innerWidth,setIsSettingsOpen:te,totalLifes:u,isSoundOn:de,setIsSoundOn:je}),Object(f.jsxs)("div",{style:{height:window.innerHeight-50,width:window.innerWidth,padding:20,position:"relative"},className:"d-flex justify-content-center align-items-center",children:[G?D?null:Object(f.jsx)(R,{width:window.innerWidth-80,height:window.innerHeight-90,data:X.current,startGame:me}):Object(f.jsx)(O,{width:window.innerWidth-80,height:window.innerHeight-90,startGame:me}),B?Object(f.jsx)(m,{width:window.innerWidth-80,height:window.innerHeight-90}):null,Object(f.jsx)("canvas",{style:{position:"absolute"},className:"canvas",onClick:function(e){var t=new d(e.clientX-40,e.clientY-70);de&&(be.current.pause(),be.current.currentTime=0,be.current.play());for(var n=K.current,i=0;i<n.length;i++)n[i].pos.subtr(t).mag()<n[i].orignalR&&n[i].isActive&&(Z(U+1),n[i].isClicked=!0,n[i].clickedTime=Date.now(),n[i].setClickedRadius(),n[i].clickPos=t)},onKeyDown:function(e){32===e.keyCode&&(console.log("space key pressed"),ge())},tabIndex:1,id:"canvas",ref:c,width:window.innerWidth-80,height:window.innerHeight-90})]})]})},H=(n(200),n(201),n(222)),A=function(e){return Object(f.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center w-100 container",children:[Object(f.jsxs)("div",{className:"d-flex justify-content-start align-items-center w-100 mt-3",style:{fontSize:"x-large",fontWeight:"700",color:"white"},children:[Object(f.jsx)("img",{src:w,height:60,width:60,className:"mr-3 logo"}),Object(f.jsx)("span",{className:"nav-bar-title",children:"Aim Trainer"})]}),Object(f.jsx)("div",{className:"d-flex justify-content-end align-items-center w-100 mt-3",style:{fontSize:"x-large",fontWeight:"700",color:"white"},children:Object(f.jsx)("a",{href:"https://github.com/ragsav/aim-trainer",children:Object(f.jsx)(H.a,{className:"github",style:{fontSize:36}})})})]}),Object(f.jsx)("div",{className:"d-flex flex-column justify-content-center align-items-center w-100 mt-3 container h-100",children:Object(f.jsxs)("div",{className:"w-100 d-flex flex-column justify-content-center align-items-start mt-5",style:{fontSize:"x-large",fontWeight:"700",color:"white"},children:[Object(f.jsx)(a.b,{to:"/aim-trainer/challenge",className:"link mr-5",children:"Challenge mode"}),Object(f.jsx)(a.b,{to:"/aim-trainer/response",className:"link mr-5",children:"Response time mode"}),Object(f.jsx)(a.b,{to:"/aim-trainer/precision",className:"link mr-5",children:"Precision mode"})]})})]})},E=(n(205),function(e){return Object(f.jsxs)("div",{style:{height:e.height,width:e.width},className:"d-flex justify-content-between align-items-center px-5",children:[Object(f.jsxs)("div",{className:"d-flex justify-content-left align-items-center ",style:{fontSize:"x-large",fontWeight:"700",color:"white"},children:[Object(f.jsx)("img",{src:w,height:30,width:30,className:"mr-3 nav-bar-logo"}),Object(f.jsx)("span",{className:"nav-bar-title",children:"Response Time"})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-right align-items-center ",style:{fontSize:"large",fontWeight:"700",color:"white"},children:[Object(f.jsx)("span",{className:"mr-3 nav-bar-stat-item",children:"Avg response time : ".concat(e.responseTime)}),Object(f.jsx)(x.a,{className:e.isSoundOn?"ml-5 settings-button":"ml-5 sound-disabled-button",icon:Object(f.jsx)(v.a,{style:{fontSize:20}}),onClick:function(){return e.setIsSoundOn(!e.isSoundOn)}}),Object(f.jsx)(x.a,{className:"ml-3 settings-button",icon:Object(f.jsx)(p.a,{style:{fontSize:20}}),onClick:function(){return e.setIsSettingsOpen(!0)}})]})]})}),G=function(e){e.data;return Object(f.jsx)("div",{style:{position:"absolute",width:e.width,height:e.height,backgroundColor:"#FFFFFF26",color:"white",fontSize:"large",fontWeight:"700",zIndex:2},className:"d-flex flex-column justify-content-center align-items-center",children:Object(f.jsxs)("div",{className:"d-flex flex-column justify-content-start align-items-center ",style:{width:300},children:[Object(f.jsx)("div",{className:"mb-2",style:{fontSize:"x-large"},children:"Game over"}),Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4 w-100 mb-3 ",children:[Object(f.jsx)("span",{children:"Response time "}),Object(f.jsx)("span",{children:e.responseTime})]}),Object(f.jsx)("button",{onClick:e.startGame,className:" btn core-button py-2 px-3",children:Object(f.jsxs)("div",{className:"d-flex  justify-content-center align-items-center",children:[Object(f.jsx)(N.a,{style:{fontSize:36}}),Object(f.jsx)("span",{className:"ml-2",children:"RESTART"})]})})]})})},L=n(223),q=function(e){return Object(f.jsx)(W.a,{centered:!0,visible:e.isSettingsOpen,width:500,title:Object(f.jsxs)("div",{className:"d-flex justify-content-start align-items-center m-0",children:[Object(f.jsx)(p.a,{}),Object(f.jsx)("span",{style:{backgroundColor:"#FFFFFF",color:"rgb(6, 43, 66)",fontSize:"large",fontWeight:"900"},className:"ml-2",children:"SETTINGS"})]}),onCancel:function(){return e.setIsSettingsOpen(!1)},closeIcon:Object(f.jsx)(T.a,{className:"settings-close-button"}),footer:null,children:Object(f.jsx)("div",{className:"d-flex flex-column justify-content-start align-items-center m-0",style:{backgroundColor:"#FFFFFF",color:"rgb(6, 43, 66)",fontSize:"large",fontWeight:"700"},children:Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4 w-100 ",children:[Object(f.jsx)("span",{children:"Target center placement"}),Object(f.jsx)(L.a,{size:"small",checked:e.isCenterPlacement,onChange:function(t,n){return e.setIsCenterPlacement(t)}})]})})})};function V(e,t){var n,i;null===e||void 0===e||e.clearRect(0,0,null===t||void 0===t||null===(n=t.current)||void 0===n?void 0:n.clientWidth,null===t||void 0===t||null===(i=t.current)||void 0===i?void 0:i.clientHeight)}window.innerWidth,window.innerHeight;var B=function(){var e=Object(i.useState)(null),t=Object(o.a)(e,2),n=t[0],s=t[1],c=Object(i.useRef)(null),r=Object(i.useRef)(Date.now()),a=Object(i.useState)(!0),l=Object(o.a)(a,2),u=l[0],h=l[1],j=Object(i.useRef)(null),g=Object(i.useRef)(null),x=Object(i.useRef)(0),w=Object(i.useRef)(!1),v=Object(i.useState)(w.current),p=Object(o.a)(v,2),y=p[0],S=p[1],F=Object(i.useState)(!1),N=Object(o.a)(F,2),R=N[0],k=N[1],C=Object(i.useState)(!1),W=Object(o.a)(C,2),T=W[0],I=W[1],M=Object(i.useState)(!1),D=Object(o.a)(M,2),H=D[0],A=D[1],L=Object(i.useRef)(0),B=Object(i.useState)(0),Y=Object(o.a)(B,2),K=Y[0],X=Y[1],J=Object(i.useRef)([]),Q=Object(i.useState)(!1),U=Object(o.a)(Q,2),Z=U[0],$=U[1];function _(){R||k(!0),V(n,c),S(!0),I(!0),X(0),L.current=0,x.current=0,J.current=[],w.current=!0,u&&(g.current.pause(),g.current.currentTime=0,g.current.play())}function ee(){V(n,c),S(!1),w.current=!1}function te(e){if(c&&c.current){var t=20+Math.random()*(c.current.clientWidth-40),n=20+Math.random()*(c.current.clientHeight-40);H&&(t=c.current.clientWidth-40+20,n=c.current.clientHeight-40+20,t/=2,n/=2);new b(t,n,20,e,null,0);L.current=L.current+1}}function ne(e){w.current&&r.current+3e4>Date.now()?(V(n,c),function(e){for(var t=0;t<e.current.length;t++)e.current[t].canDie()&&e.current.splice(t,1)}(J),0===J.current.length&&(H&&Math.random()>.995||!H&&Math.random()>.9)&&te(J),J.current.forEach((function(e,t){e.updateCreature(n)})),requestAnimationFrame(ne)):(ee(),V(n,c))}return Object(i.useEffect)((function(){Z&&y&&ee()}),[Z]),Object(i.useEffect)((function(){if(c&&c.current){console.log({canvasRef:c});var e=document.getElementById("canvas");e.focus();var t=e.getContext("2d");c.current.focus(),s(t)}}),[c]),Object(i.useEffect)((function(){var e=null;if(n&&y)return console.log("playing...."),I(!0),setTimeout((function(){console.log("started...."),r.current=Date.now(),I(!1),e=requestAnimationFrame(ne)}),5500),function(){e&&cancelAnimationFrame(e)}}),[n,y]),Object(f.jsxs)("div",{style:{height:"100%",width:"100%"},className:"d-flex flex-column",children:[u?Object(f.jsxs)("div",{children:[Object(f.jsx)("audio",{ref:j,src:z}),Object(f.jsx)("audio",{ref:g,src:P})]}):null,Object(f.jsx)(q,{isSettingsOpen:Z,setIsSettingsOpen:$,isCenterPlacement:H,setIsCenterPlacement:A}),Object(f.jsx)(E,{height:50,width:window.innerWidth,responseTime:K,setIsSettingsOpen:$,isSoundOn:u,setIsSoundOn:h}),Object(f.jsxs)("div",{style:{height:window.innerHeight-50,width:window.innerWidth,padding:20,position:"relative"},className:"d-flex justify-content-center align-items-center",children:[R?y?null:Object(f.jsx)(G,{width:window.innerWidth-80,height:window.innerHeight-90,startGame:_,responseTime:K}):Object(f.jsx)(O,{width:window.innerWidth-80,height:window.innerHeight-90,startGame:_}),T?Object(f.jsx)(m,{width:window.innerWidth-80,height:window.innerHeight-90}):null,Object(f.jsx)("canvas",{style:{position:"absolute"},className:"canvas",onClick:function(e){var t=new d(e.clientX-40,e.clientY-70),n=J.current;u&&(j.current.pause(),j.current.currentTime=0,j.current.play());for(var i=0;i<n.length;i++)if(n[i].pos.subtr(t).mag()<n[i].orignalR&&n[i].isActive){var s=Date.now()-n[i].birth;console.log("before : ",s,"targets : ",L.current);var c=K*(L.current-1);console.log(c),s+=c,s/=L.current,console.log(s),s=Math.round(s),X(s),n[i].isClicked=!0,n[i].clickedTime=Date.now(),n[i].setClickedRadius(),n[i].clickPos=t}},onKeyDown:function(e){32===e.keyCode&&(console.log("space key pressed"),ee())},tabIndex:1,id:"canvas",ref:c,width:window.innerWidth-80,height:window.innerHeight-90})]})]})},Y=(n(206),function(e){return Object(f.jsxs)("div",{style:{height:e.height,width:e.width},className:"d-flex justify-content-between align-items-center px-5",children:[Object(f.jsxs)("div",{className:"d-flex justify-content-left align-items-center ",style:{fontSize:"x-large",fontWeight:"700",color:"white"},children:[Object(f.jsx)("img",{src:w,height:30,width:30,className:"mr-3 nav-bar-logo"}),Object(f.jsx)("span",{className:"nav-bar-title",children:"Precision"})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-right align-items-center ",style:{fontSize:"large",fontWeight:"700",color:"white"},children:[Object(f.jsx)("span",{className:"mr-3 nav-bar-stat-item",children:"Precision : ".concat(e.precision)}),Object(f.jsx)(x.a,{className:e.isSoundOn?"ml-5 settings-button":"ml-5 sound-disabled-button",icon:Object(f.jsx)(v.a,{style:{fontSize:20}}),onClick:function(){return e.setIsSoundOn(!e.isSoundOn)}}),Object(f.jsx)(x.a,{className:"ml-3 settings-button",icon:Object(f.jsx)(p.a,{style:{fontSize:20}}),onClick:function(){return e.setIsSettingsOpen(!0)}})]})]})}),K=function(e){e.data;return Object(f.jsx)("div",{style:{position:"absolute",width:e.width,height:e.height,backgroundColor:"#FFFFFF26",color:"white",fontSize:"large",fontWeight:"700",zIndex:2},className:"d-flex flex-column justify-content-center align-items-center",children:Object(f.jsxs)("div",{className:"d-flex flex-column justify-content-start align-items-center ",style:{width:300},children:[Object(f.jsx)("div",{className:"mb-2",style:{fontSize:"x-large"},children:"Game over"}),Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4 w-100 mb-1 ",children:[Object(f.jsx)("span",{children:"Precision "}),Object(f.jsx)("span",{children:e.precision})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center w-100 mb-3 ",children:[Object(f.jsx)("span",{children:"Hits "}),Object(f.jsx)("span",{children:e.hits})]}),Object(f.jsx)("button",{onClick:e.startGame,className:" btn core-button py-2 px-3",children:Object(f.jsxs)("div",{className:"d-flex  justify-content-center align-items-center",children:[Object(f.jsx)(N.a,{style:{fontSize:36}}),Object(f.jsx)("span",{className:"ml-2",children:"RESTART"})]})})]})})},X=function(e){return Object(f.jsx)(W.a,{centered:!0,visible:e.isSettingsOpen,width:500,title:Object(f.jsxs)("div",{className:"d-flex justify-content-start align-items-center m-0",children:[Object(f.jsx)(p.a,{}),Object(f.jsx)("span",{style:{backgroundColor:"#FFFFFF",color:"rgb(6, 43, 66)",fontSize:"large",fontWeight:"900"},className:"ml-2",children:"SETTINGS"})]}),onCancel:function(){return e.setIsSettingsOpen(!1)},closeIcon:Object(f.jsx)(T.a,{className:"settings-close-button"}),footer:null,children:Object(f.jsx)("div",{className:"d-flex flex-column justify-content-start align-items-center m-0",style:{backgroundColor:"#FFFFFF",color:"rgb(6, 43, 66)",fontSize:"large",fontWeight:"700"},children:Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-4 w-100 ",children:[Object(f.jsx)("span",{children:"Spawning target after "}),Object(f.jsx)(k.a,{style:{width:200},defaultValue:e.speed,onChange:function(t){e.setSpeed(t)},tipFormatter:function(e){return"".concat(e," ms")},step:100,min:100,max:5e3})]})})})};function J(e,t){var n,i;null===e||void 0===e||e.clearRect(0,0,null===t||void 0===t||null===(n=t.current)||void 0===n?void 0:n.clientWidth,null===t||void 0===t||null===(i=t.current)||void 0===i?void 0:i.clientHeight)}window.innerWidth,window.innerHeight;var Q=function(){var e=Object(i.useState)(null),t=Object(o.a)(e,2),n=t[0],s=t[1],c=Object(i.useRef)(null),r=Object(i.useRef)(Date.now()),a=Object(i.useRef)(Date.now()),l=Object(i.useRef)(0),u=Object(i.useRef)(!1),h=Object(i.useState)(u.current),j=Object(o.a)(h,2),g=j[0],x=j[1],w=Object(i.useState)(!1),v=Object(o.a)(w,2),p=v[0],y=v[1],S=Object(i.useState)(!1),F=Object(o.a)(S,2),N=F[0],R=F[1],k=Object(i.useState)(!1),C=Object(o.a)(k,2),W=(C[0],C[1],Object(i.useState)(0)),T=Object(o.a)(W,2),I=T[0],M=T[1],D=Object(i.useRef)(0),H=Object(i.useState)(1e3),A=Object(o.a)(H,2),E=A[0],G=A[1],L=Object(i.useState)(0),q=Object(o.a)(L,2),V=q[0],B=q[1],Q=Object(i.useRef)([]),U=Object(i.useState)(!0),Z=Object(o.a)(U,2),$=Z[0],_=Z[1],ee=Object(i.useRef)(null),te=Object(i.useRef)(null),ne=Object(i.useState)(!1),ie=Object(o.a)(ne,2),se=ie[0],ce=ie[1];function re(){p||y(!0),J(n,c),x(!0),R(!0),B(0),M(0),D.current=0,a.current=Date.now(),l.current=0,Q.current=[],u.current=!0,$&&(te.current.pause(),te.current.currentTime=0,te.current.play())}function ae(){J(n,c),x(!1),u.current=!1}function le(e){u.current&&r.current+3e4>Date.now()?(J(n,c),function(e){for(var t=0;t<e.current.length;t++)e.current[t].canDie()&&e.current.splice(t,1)}(Q),a.current+E<Date.now()&&(!function(e){if(c&&c.current){var t=20+Math.random()*(c.current.clientWidth-40),n=20+Math.random()*(c.current.clientHeight-40);new b(t,n,7,e,null,0),D.current=D.current+1}}(Q),a.current=Date.now()),Q.current.forEach((function(e,t){e.updateCreature(n)})),requestAnimationFrame(le)):(ae(),J(n,c))}return Object(i.useEffect)((function(){se&&g&&ae()}),[se]),Object(i.useEffect)((function(){if(c&&c.current){console.log({canvasRef:c});var e=document.getElementById("canvas");e.focus();var t=e.getContext("2d");c.current.focus(),s(t)}}),[c]),Object(i.useEffect)((function(){var e=null;if(n&&g)return console.log("playing...."),R(!0),setTimeout((function(){console.log("started...."),r.current=Date.now(),R(!1),e=requestAnimationFrame(le)}),5500),function(){e&&cancelAnimationFrame(e)}}),[n,g]),Object(f.jsxs)("div",{style:{height:"100%",width:"100%"},className:"d-flex flex-column",children:[$?Object(f.jsxs)("div",{children:[Object(f.jsx)("audio",{ref:ee,src:z}),Object(f.jsx)("audio",{ref:te,src:P})]}):null,Object(f.jsx)(X,{isSettingsOpen:se,setIsSettingsOpen:ce,speed:E,setSpeed:G}),Object(f.jsx)(Y,{height:50,width:window.innerWidth,precision:I,setIsSettingsOpen:ce,isSoundOn:$,setIsSoundOn:_}),Object(f.jsxs)("div",{style:{height:window.innerHeight-50,width:window.innerWidth,padding:20,position:"relative"},className:"d-flex justify-content-center align-items-center",children:[p?g?null:Object(f.jsx)(K,{width:window.innerWidth-80,height:window.innerHeight-90,startGame:re,precision:I,hits:V}):Object(f.jsx)(O,{width:window.innerWidth-80,height:window.innerHeight-90,startGame:re}),N?Object(f.jsx)(m,{width:window.innerWidth-80,height:window.innerHeight-90}):null,Object(f.jsx)("canvas",{style:{position:"absolute"},className:"canvas",onClick:function(e){var t=new d(e.clientX-40,e.clientY-70);$&&(ee.current.pause(),ee.current.currentTime=0,ee.current.play());for(var n=Q.current,i=0;i<n.length;i++)if(n[i].pos.subtr(t).mag()<n[i].orignalR&&n[i].isActive){var s=I*V,c=100*(n[i].orignalR-t.subtr(n[i].pos).mag())/n[i].orignalR;M(c=(c+s)/(V+1)),B(V+1),n[i].isClicked=!0,n[i].clickedTime=Date.now(),n[i].setClickedRadius(),n[i].clickPos=t}},onKeyDown:function(e){32===e.keyCode&&(console.log("space key pressed"),ae())},tabIndex:1,id:"canvas",ref:c,width:window.innerWidth-80,height:window.innerHeight-90})]})]})};var U=function(){return Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(a.a,{children:Object(f.jsxs)(l.c,{children:[Object(f.jsx)(l.a,{exact:!0,path:"/aim-trainer",children:Object(f.jsx)(A,{})}),Object(f.jsx)(l.a,{exact:!0,path:"/aim-trainer/challenge",children:Object(f.jsx)(D,{})}),Object(f.jsx)(l.a,{exact:!0,path:"/aim-trainer/response",children:Object(f.jsx)(B,{})}),Object(f.jsx)(l.a,{exact:!0,path:"/aim-trainer/precision",children:Object(f.jsx)(Q,{})})]})})})},Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,224)).then((function(t){var n=t.getCLS,i=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),i(e),s(e),c(e),r(e)}))};r.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(U,{})}),document.getElementById("root")),Z()}},[[207,1,2]]]);
//# sourceMappingURL=main.d1bf3093.chunk.js.map